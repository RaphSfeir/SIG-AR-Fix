<?xml version="1.0" encoding="CP850"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=CP850" http-equiv="Content-Type" />

  <title>Class: Sequel::Database</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/sequel/database/connecting_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/connecting.rb">lib/sequel/database/connecting.rb</a></li>
          
            <li><a href="../lib/sequel/database/dataset_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/dataset.rb">lib/sequel/database/dataset.rb</a></li>
          
            <li><a href="../lib/sequel/database/dataset_defaults_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/dataset_defaults.rb">lib/sequel/database/dataset_defaults.rb</a></li>
          
            <li><a href="../lib/sequel/database/logging_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/logging.rb">lib/sequel/database/logging.rb</a></li>
          
            <li><a href="../lib/sequel/database/misc_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/misc.rb">lib/sequel/database/misc.rb</a></li>
          
            <li><a href="../lib/sequel/database/query_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/query.rb">lib/sequel/database/query.rb</a></li>
          
            <li><a href="../lib/sequel/database/schema_methods_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database/schema_methods.rb">lib/sequel/database/schema_methods.rb</a></li>
          
            <li><a href="../lib/sequel/database_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/database.rb">lib/sequel/database.rb</a></li>
          
            <li><a href="../lib/sequel/extensions/query_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/extensions/query.rb">lib/sequel/extensions/query.rb</a></li>
          
            <li><a href="../lib/sequel/extensions/schema_caching_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/extensions/schema_caching.rb">lib/sequel/extensions/schema_caching.rb</a></li>
          
            <li><a href="../lib/sequel/extensions/schema_dumper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/sequel/extensions/schema_dumper.rb">lib/sequel/extensions/schema_dumper.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="../Object.html">Object</a></p>
        
      </div>
      

      
      <!-- Sections -->
      <div id="sections-section" class="section">
        <h3 class="section-header">Sections</h3>
        <ul class="link-list">
          
            <li><a href="#5Buntitled-5D"></a></li>
          
            <li><a href="#1+-+Methods+that+execute+queries+and-2For+return+results">1 - Methods that execute queries and/or return results</a></li>
          
            <li><a href="#2+-+Methods+that+modify+the+database+schema">2 - Methods that modify the database schema</a></li>
          
            <li><a href="#3+-+Methods+that+create+datasets">3 - Methods that create datasets</a></li>
          
            <li><a href="#4+-+Methods+relating+to+adapters-2C+connecting-2C+disconnecting-2C+and+sharding">4 - Methods relating to adapters, connecting, disconnecting, and sharding</a></li>
          
            <li><a href="#5+-+Methods+that+set+defaults+for+created+datasets">5 - Methods that set defaults for created datasets</a></li>
          
            <li><a href="#6+-+Methods+relating+to+logging">6 - Methods relating to logging</a></li>
          
            <li><a href="#7+-+Miscellaneous+methods">7 - Miscellaneous methods</a></li>
          
        </ul>
      </div>
      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">MODULE</span> <a href="Database/SplitAlterTable.html">Sequel::Database::SplitAlterTable</a></li>
          
          <li><span class="type">CLASS</span> <a href="Dataset.html">Sequel::Database::DatasetClass</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-adapter_class">::adapter_class</a></li>
          
          <li><a href="#method-c-adapter_scheme">::adapter_scheme</a></li>
          
          <li><a href="#method-c-connect">::connect</a></li>
          
          <li><a href="#method-c-identifier_input_method">::identifier_input_method</a></li>
          
          <li><a href="#method-c-identifier_input_method-3D">::identifier_input_method=</a></li>
          
          <li><a href="#method-c-identifier_output_method">::identifier_output_method</a></li>
          
          <li><a href="#method-c-identifier_output_method-3D">::identifier_output_method=</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-c-quote_identifiers-3D">::quote_identifiers=</a></li>
          
          <li><a href="#method-c-register_extension">::register_extension</a></li>
          
          <li><a href="#method-c-single_threaded-3D">::single_threaded=</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-5B-5D">#[]</a></li>
          
          <li><a href="#method-i-adapter_scheme">#adapter_scheme</a></li>
          
          <li><a href="#method-i-add_column">#add_column</a></li>
          
          <li><a href="#method-i-add_index">#add_index</a></li>
          
          <li><a href="#method-i-add_servers">#add_servers</a></li>
          
          <li><a href="#method-i-after_commit">#after_commit</a></li>
          
          <li><a href="#method-i-after_rollback">#after_rollback</a></li>
          
          <li><a href="#method-i-alter_table">#alter_table</a></li>
          
          <li><a href="#method-i-alter_table_generator">#alter_table_generator</a></li>
          
          <li><a href="#method-i-call">#call</a></li>
          
          <li><a href="#method-i-cast_type_literal">#cast_type_literal</a></li>
          
          <li><a href="#method-i-connect">#connect</a></li>
          
          <li><a href="#method-i-create_join_table">#create_join_table</a></li>
          
          <li><a href="#method-i-create_or_replace_view">#create_or_replace_view</a></li>
          
          <li><a href="#method-i-create_table">#create_table</a></li>
          
          <li><a href="#method-i-create_table-21">#create_table!</a></li>
          
          <li><a href="#method-i-create_table-3F">#create_table?</a></li>
          
          <li><a href="#method-i-create_table_generator">#create_table_generator</a></li>
          
          <li><a href="#method-i-create_view">#create_view</a></li>
          
          <li><a href="#method-i-database_type">#database_type</a></li>
          
          <li><a href="#method-i-dataset">#dataset</a></li>
          
          <li><a href="#method-i-dataset_class-3D">#dataset_class=</a></li>
          
          <li><a href="#method-i-disconnect">#disconnect</a></li>
          
          <li><a href="#method-i-disconnect_connection">#disconnect_connection</a></li>
          
          <li><a href="#method-i-drop_column">#drop_column</a></li>
          
          <li><a href="#method-i-drop_index">#drop_index</a></li>
          
          <li><a href="#method-i-drop_join_table">#drop_join_table</a></li>
          
          <li><a href="#method-i-drop_table">#drop_table</a></li>
          
          <li><a href="#method-i-drop_table-3F">#drop_table?</a></li>
          
          <li><a href="#method-i-drop_view">#drop_view</a></li>
          
          <li><a href="#method-i-dump_foreign_key_migration">#dump_foreign_key_migration</a></li>
          
          <li><a href="#method-i-dump_indexes_migration">#dump_indexes_migration</a></li>
          
          <li><a href="#method-i-dump_schema_cache">#dump_schema_cache</a></li>
          
          <li><a href="#method-i-dump_schema_cache-3F">#dump_schema_cache?</a></li>
          
          <li><a href="#method-i-dump_schema_migration">#dump_schema_migration</a></li>
          
          <li><a href="#method-i-dump_table_schema">#dump_table_schema</a></li>
          
          <li><a href="#method-i-each_server">#each_server</a></li>
          
          <li><a href="#method-i-execute">#execute</a></li>
          
          <li><a href="#method-i-execute_ddl">#execute_ddl</a></li>
          
          <li><a href="#method-i-execute_dui">#execute_dui</a></li>
          
          <li><a href="#method-i-execute_insert">#execute_insert</a></li>
          
          <li><a href="#method-i-extend_datasets">#extend_datasets</a></li>
          
          <li><a href="#method-i-extension">#extension</a></li>
          
          <li><a href="#method-i-fetch">#fetch</a></li>
          
          <li><a href="#method-i-foreign_key_list">#foreign_key_list</a></li>
          
          <li><a href="#method-i-from">#from</a></li>
          
          <li><a href="#method-i-from_application_timestamp">#from_application_timestamp</a></li>
          
          <li><a href="#method-i-get">#get</a></li>
          
          <li><a href="#method-i-global_index_namespace-3F">#global_index_namespace?</a></li>
          
          <li><a href="#method-i-identifier_input_method">#identifier_input_method</a></li>
          
          <li><a href="#method-i-identifier_input_method-3D">#identifier_input_method=</a></li>
          
          <li><a href="#method-i-identifier_output_method">#identifier_output_method</a></li>
          
          <li><a href="#method-i-identifier_output_method-3D">#identifier_output_method=</a></li>
          
          <li><a href="#method-i-in_transaction-3F">#in_transaction?</a></li>
          
          <li><a href="#method-i-indexes">#indexes</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-literal">#literal</a></li>
          
          <li><a href="#method-i-load_schema_cache">#load_schema_cache</a></li>
          
          <li><a href="#method-i-load_schema_cache-3F">#load_schema_cache?</a></li>
          
          <li><a href="#method-i-log_exception">#log_exception</a></li>
          
          <li><a href="#method-i-log_info">#log_info</a></li>
          
          <li><a href="#method-i-log_yield">#log_yield</a></li>
          
          <li><a href="#method-i-logger-3D">#logger=</a></li>
          
          <li><a href="#method-i-prepared_statement">#prepared_statement</a></li>
          
          <li><a href="#method-i-query">#query</a></li>
          
          <li><a href="#method-i-quote_identifiers-3D">#quote_identifiers=</a></li>
          
          <li><a href="#method-i-quote_identifiers-3F">#quote_identifiers?</a></li>
          
          <li><a href="#method-i-remove_servers">#remove_servers</a></li>
          
          <li><a href="#method-i-rename_column">#rename_column</a></li>
          
          <li><a href="#method-i-rename_table">#rename_table</a></li>
          
          <li><a href="#method-i-run">#run</a></li>
          
          <li><a href="#method-i-schema">#schema</a></li>
          
          <li><a href="#method-i-select">#select</a></li>
          
          <li><a href="#method-i-serial_primary_key_options">#serial_primary_key_options</a></li>
          
          <li><a href="#method-i-servers">#servers</a></li>
          
          <li><a href="#method-i-set_column_default">#set_column_default</a></li>
          
          <li><a href="#method-i-set_column_type">#set_column_type</a></li>
          
          <li><a href="#method-i-set_prepared_statement">#set_prepared_statement</a></li>
          
          <li><a href="#method-i-single_threaded-3F">#single_threaded?</a></li>
          
          <li><a href="#method-i-supports_create_table_if_not_exists-3F">#supports_create_table_if_not_exists?</a></li>
          
          <li><a href="#method-i-supports_drop_table_if_exists-3F">#supports_drop_table_if_exists?</a></li>
          
          <li><a href="#method-i-supports_prepared_transactions-3F">#supports_prepared_transactions?</a></li>
          
          <li><a href="#method-i-supports_savepoints-3F">#supports_savepoints?</a></li>
          
          <li><a href="#method-i-supports_savepoints_in_prepared_transactions-3F">#supports_savepoints_in_prepared_transactions?</a></li>
          
          <li><a href="#method-i-supports_transaction_isolation_levels-3F">#supports_transaction_isolation_levels?</a></li>
          
          <li><a href="#method-i-supports_transactional_ddl-3F">#supports_transactional_ddl?</a></li>
          
          <li><a href="#method-i-synchronize">#synchronize</a></li>
          
          <li><a href="#method-i-table_exists-3F">#table_exists?</a></li>
          
          <li><a href="#method-i-tables">#tables</a></li>
          
          <li><a href="#method-i-test_connection">#test_connection</a></li>
          
          <li><a href="#method-i-timezone">#timezone</a></li>
          
          <li><a href="#method-i-to_application_timestamp">#to_application_timestamp</a></li>
          
          <li><a href="#method-i-transaction">#transaction</a></li>
          
          <li><a href="#method-i-typecast_value">#typecast_value</a></li>
          
          <li><a href="#method-i-uri">#uri</a></li>
          
          <li><a href="#method-i-url">#url</a></li>
          
          <li><a href="#method-i-valid_connection-3F">#valid_connection?</a></li>
          
          <li><a href="#method-i-views">#views</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Metaprogramming.html">Sequel::Metaprogramming</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../CHANGELOG.html">CHANGELOG</a></li>
        
          <li class="file"><a href="../MIT-LICENSE.html">MIT-LICENSE</a></li>
        
          <li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="../doc/active_record_rdoc.html">active_record.rdoc</a></li>
        
          <li class="file"><a href="../doc/advanced_associations_rdoc.html">advanced_associations.rdoc</a></li>
        
          <li class="file"><a href="../doc/association_basics_rdoc.html">association_basics.rdoc</a></li>
        
          <li class="file"><a href="../doc/bin_sequel_rdoc.html">bin_sequel.rdoc</a></li>
        
          <li class="file"><a href="../doc/cheat_sheet_rdoc.html">cheat_sheet.rdoc</a></li>
        
          <li class="file"><a href="../doc/core_extensions_rdoc.html">core_extensions.rdoc</a></li>
        
          <li class="file"><a href="../doc/dataset_basics_rdoc.html">dataset_basics.rdoc</a></li>
        
          <li class="file"><a href="../doc/dataset_filtering_rdoc.html">dataset_filtering.rdoc</a></li>
        
          <li class="file"><a href="../doc/mass_assignment_rdoc.html">mass_assignment.rdoc</a></li>
        
          <li class="file"><a href="../doc/migration_rdoc.html">migration.rdoc</a></li>
        
          <li class="file"><a href="../doc/model_hooks_rdoc.html">model_hooks.rdoc</a></li>
        
          <li class="file"><a href="../doc/object_model_rdoc.html">object_model.rdoc</a></li>
        
          <li class="file"><a href="../doc/opening_databases_rdoc.html">opening_databases.rdoc</a></li>
        
          <li class="file"><a href="../doc/prepared_statements_rdoc.html">prepared_statements.rdoc</a></li>
        
          <li class="file"><a href="../doc/querying_rdoc.html">querying.rdoc</a></li>
        
          <li class="file"><a href="../doc/reflection_rdoc.html">reflection.rdoc</a></li>
        
          <li class="file"><a href="../doc/release_notes/1_0_txt.html">1.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/1_1_txt.html">1.1.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/1_3_txt.html">1.3.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/1_4_0_txt.html">1.4.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/1_5_0_txt.html">1.5.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_0_0_txt.html">2.0.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_1_0_txt.html">2.1.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_10_0_txt.html">2.10.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_11_0_txt.html">2.11.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_12_0_txt.html">2.12.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_2_0_txt.html">2.2.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_3_0_txt.html">2.3.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_4_0_txt.html">2.4.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_5_0_txt.html">2.5.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_6_0_txt.html">2.6.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_7_0_txt.html">2.7.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_8_0_txt.html">2.8.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/2_9_0_txt.html">2.9.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_0_0_txt.html">3.0.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_1_0_txt.html">3.1.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_10_0_txt.html">3.10.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_11_0_txt.html">3.11.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_12_0_txt.html">3.12.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_13_0_txt.html">3.13.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_14_0_txt.html">3.14.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_15_0_txt.html">3.15.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_16_0_txt.html">3.16.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_17_0_txt.html">3.17.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_18_0_txt.html">3.18.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_19_0_txt.html">3.19.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_2_0_txt.html">3.2.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_20_0_txt.html">3.20.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_21_0_txt.html">3.21.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_22_0_txt.html">3.22.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_23_0_txt.html">3.23.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_24_0_txt.html">3.24.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_25_0_txt.html">3.25.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_26_0_txt.html">3.26.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_27_0_txt.html">3.27.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_28_0_txt.html">3.28.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_29_0_txt.html">3.29.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_3_0_txt.html">3.3.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_30_0_txt.html">3.30.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_31_0_txt.html">3.31.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_32_0_txt.html">3.32.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_33_0_txt.html">3.33.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_34_0_txt.html">3.34.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_35_0_txt.html">3.35.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_36_0_txt.html">3.36.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_37_0_txt.html">3.37.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_38_0_txt.html">3.38.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_39_0_txt.html">3.39.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_4_0_txt.html">3.4.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_40_0_txt.html">3.40.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_41_0_txt.html">3.41.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_5_0_txt.html">3.5.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_6_0_txt.html">3.6.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_7_0_txt.html">3.7.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_8_0_txt.html">3.8.0.txt</a></li>
        
          <li class="file"><a href="../doc/release_notes/3_9_0_txt.html">3.9.0.txt</a></li>
        
          <li class="file"><a href="../doc/schema_modification_rdoc.html">schema_modification.rdoc</a></li>
        
          <li class="file"><a href="../doc/sharding_rdoc.html">sharding.rdoc</a></li>
        
          <li class="file"><a href="../doc/sql_rdoc.html">sql.rdoc</a></li>
        
          <li class="file"><a href="../doc/testing_rdoc.html">testing.rdoc</a></li>
        
          <li class="file"><a href="../doc/thread_safety_rdoc.html">thread_safety.rdoc</a></li>
        
          <li class="file"><a href="../doc/transactions_rdoc.html">transactions.rdoc</a></li>
        
          <li class="file"><a href="../doc/validations_rdoc.html">validations.rdoc</a></li>
        
          <li class="file"><a href="../doc/virtual_rows_rdoc.html">virtual_rows.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../Sequel.html">Sequel</a></li>
        
          <li><a href="../Sequel/ADO.html">Sequel::ADO</a></li>
        
          <li><a href="../Sequel/ADO/Access.html">Sequel::ADO::Access</a></li>
        
          <li><a href="../Sequel/ADO/Access/AdoSchema.html">Sequel::ADO::Access::AdoSchema</a></li>
        
          <li><a href="../Sequel/ADO/Access/AdoSchema/Column.html">Sequel::ADO::Access::AdoSchema::Column</a></li>
        
          <li><a href="../Sequel/ADO/Access/DatabaseMethods.html">Sequel::ADO::Access::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/ADO/Access/Dataset.html">Sequel::ADO::Access::Dataset</a></li>
        
          <li><a href="../Sequel/ADO/Database.html">Sequel::ADO::Database</a></li>
        
          <li><a href="../Sequel/ADO/Dataset.html">Sequel::ADO::Dataset</a></li>
        
          <li><a href="../Sequel/ADO/MSSQL.html">Sequel::ADO::MSSQL</a></li>
        
          <li><a href="../Sequel/ADO/MSSQL/DatabaseMethods.html">Sequel::ADO::MSSQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/ADO/MSSQL/Dataset.html">Sequel::ADO::MSSQL::Dataset</a></li>
        
          <li><a href="../Sequel/ASTTransformer.html">Sequel::ASTTransformer</a></li>
        
          <li><a href="../Sequel/Access.html">Sequel::Access</a></li>
        
          <li><a href="../Sequel/Access/DatabaseMethods.html">Sequel::Access::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Access/DatasetMethods.html">Sequel::Access::DatasetMethods</a></li>
        
          <li><a href="../Sequel/AdapterNotFound.html">Sequel::AdapterNotFound</a></li>
        
          <li><a href="../Sequel/Amalgalite.html">Sequel::Amalgalite</a></li>
        
          <li><a href="../Sequel/Amalgalite/Database.html">Sequel::Amalgalite::Database</a></li>
        
          <li><a href="../Sequel/Amalgalite/Dataset.html">Sequel::Amalgalite::Dataset</a></li>
        
          <li><a href="../Sequel/Amalgalite/SequelTypeMap.html">Sequel::Amalgalite::SequelTypeMap</a></li>
        
          <li><a href="../Sequel/ArbitraryServers.html">Sequel::ArbitraryServers</a></li>
        
          <li><a href="../Sequel/BasicObject.html">Sequel::BasicObject</a></li>
        
          <li><a href="../Sequel/HookFailed.html">Sequel::BeforeHookFailed</a></li>
        
          <li><a href="../Sequel/ColumnsIntrospection.html">Sequel::ColumnsIntrospection</a></li>
        
          <li><a href="../Sequel/ConnectionPool.html">Sequel::ConnectionPool</a></li>
        
          <li><a href="../Sequel/ConnectionPool/ClassMethods.html">Sequel::ConnectionPool::ClassMethods</a></li>
        
          <li><a href="../Sequel/ConnectionValidator.html">Sequel::ConnectionValidator</a></li>
        
          <li><a href="../Sequel/ConnectionValidator/Retry.html">Sequel::ConnectionValidator::Retry</a></li>
        
          <li><a href="../Sequel/ConstraintValidations.html">Sequel::ConstraintValidations</a></li>
        
          <li><a href="../Sequel/ConstraintValidations/AlterTableGeneratorMethods.html">Sequel::ConstraintValidations::AlterTableGeneratorMethods</a></li>
        
          <li><a href="../Sequel/ConstraintValidations/CreateTableGeneratorMethods.html">Sequel::ConstraintValidations::CreateTableGeneratorMethods</a></li>
        
          <li><a href="../Sequel/ConstraintValidations/Generator.html">Sequel::ConstraintValidations::Generator</a></li>
        
          <li><a href="../Sequel/Cubrid.html">Sequel::Cubrid</a></li>
        
          <li><a href="../Sequel/Cubrid/Database.html">Sequel::Cubrid::Database</a></li>
        
          <li><a href="../Sequel/Cubrid/DatabaseMethods.html">Sequel::Cubrid::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Cubrid/Dataset.html">Sequel::Cubrid::Dataset</a></li>
        
          <li><a href="../Sequel/Cubrid/DatasetMethods.html">Sequel::Cubrid::DatasetMethods</a></li>
        
          <li><a href="../Sequel/DB2.html">Sequel::DB2</a></li>
        
          <li><a href="../Sequel/DB2/DB2Error.html">Sequel::DB2::DB2Error</a></li>
        
          <li><a href="../Sequel/DB2/Database.html">Sequel::DB2::Database</a></li>
        
          <li><a href="../Sequel/DB2/DatabaseMethods.html">Sequel::DB2::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/DB2/Dataset.html">Sequel::DB2::Dataset</a></li>
        
          <li><a href="../Sequel/DB2/DatasetMethods.html">Sequel::DB2::DatasetMethods</a></li>
        
          <li><a href="../Sequel/DBI.html">Sequel::DBI</a></li>
        
          <li><a href="../Sequel/DBI/Database.html">Sequel::DBI::Database</a></li>
        
          <li><a href="../Sequel/DBI/Dataset.html">Sequel::DBI::Dataset</a></li>
        
          <li><a href="../Sequel/DataObjects.html">Sequel::DataObjects</a></li>
        
          <li><a href="../Sequel/DataObjects/Database.html">Sequel::DataObjects::Database</a></li>
        
          <li><a href="../Sequel/DataObjects/Dataset.html">Sequel::DataObjects::Dataset</a></li>
        
          <li><a href="../Sequel/DataObjects/MySQL.html">Sequel::DataObjects::MySQL</a></li>
        
          <li><a href="../Sequel/DataObjects/MySQL/DatabaseMethods.html">Sequel::DataObjects::MySQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/DataObjects/MySQL/Dataset.html">Sequel::DataObjects::MySQL::Dataset</a></li>
        
          <li><a href="../Sequel/DataObjects/Postgres.html">Sequel::DataObjects::Postgres</a></li>
        
          <li><a href="../Sequel/DataObjects/Postgres/DatabaseMethods.html">Sequel::DataObjects::Postgres::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/DataObjects/SQLite.html">Sequel::DataObjects::SQLite</a></li>
        
          <li><a href="../Sequel/DataObjects/SQLite/DatabaseMethods.html">Sequel::DataObjects::SQLite::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Database.html">Sequel::Database</a></li>
        
          <li><a href="../Sequel/Dataset.html">Sequel::Database::DatasetClass</a></li>
        
          <li><a href="../Sequel/Database/SplitAlterTable.html">Sequel::Database::SplitAlterTable</a></li>
        
          <li><a href="../Sequel/DatabaseConnectionError.html">Sequel::DatabaseConnectionError</a></li>
        
          <li><a href="../Sequel/DatabaseDisconnectError.html">Sequel::DatabaseDisconnectError</a></li>
        
          <li><a href="../Sequel/DatabaseError.html">Sequel::DatabaseError</a></li>
        
          <li><a href="../Sequel/Dataset.html">Sequel::Dataset</a></li>
        
          <li><a href="../Sequel/Dataset/ArgumentMapper.html">Sequel::Dataset::ArgumentMapper</a></li>
        
          <li><a href="../Sequel/Dataset/NullDataset.html">Sequel::Dataset::NullDataset</a></li>
        
          <li><a href="../Sequel/Dataset/Pagination.html">Sequel::Dataset::Pagination</a></li>
        
          <li><a href="../Sequel/Dataset/PreparedStatementMethods.html">Sequel::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/Dataset/QueryBlockCopy.html">Sequel::Dataset::QueryBlockCopy</a></li>
        
          <li><a href="../Sequel/Dataset/SplitArrayNil.html">Sequel::Dataset::SplitArrayNil</a></li>
        
          <li><a href="../Sequel/Dataset/StoredProcedureMethods.html">Sequel::Dataset::StoredProcedureMethods</a></li>
        
          <li><a href="../Sequel/Dataset/StoredProcedures.html">Sequel::Dataset::StoredProcedures</a></li>
        
          <li><a href="../Sequel/Dataset/UnnumberedArgumentMapper.html">Sequel::Dataset::UnnumberedArgumentMapper</a></li>
        
          <li><a href="../Sequel/EmulateOffsetWithRowNumber.html">Sequel::EmulateOffsetWithRowNumber</a></li>
        
          <li><a href="../Sequel/Error.html">Sequel::Error</a></li>
        
          <li><a href="../Sequel/AdapterNotFound.html">Sequel::Error::AdapterNotFound</a></li>
        
          <li><a href="../Sequel/InvalidOperation.html">Sequel::Error::InvalidOperation</a></li>
        
          <li><a href="../Sequel/InvalidValue.html">Sequel::Error::InvalidValue</a></li>
        
          <li><a href="../Sequel/PoolTimeout.html">Sequel::Error::PoolTimeoutError</a></li>
        
          <li><a href="../Sequel/Rollback.html">Sequel::Error::Rollback</a></li>
        
          <li><a href="../Sequel/EvalInspect.html">Sequel::EvalInspect</a></li>
        
          <li><a href="../Sequel/Firebird.html">Sequel::Firebird</a></li>
        
          <li><a href="../Sequel/Firebird/Database.html">Sequel::Firebird::Database</a></li>
        
          <li><a href="../Sequel/Firebird/DatabaseMethods.html">Sequel::Firebird::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Firebird/Dataset.html">Sequel::Firebird::Dataset</a></li>
        
          <li><a href="../Sequel/Firebird/DatasetMethods.html">Sequel::Firebird::DatasetMethods</a></li>
        
          <li><a href="../Sequel/HookFailed.html">Sequel::HookFailed</a></li>
        
          <li><a href="../Sequel/IBMDB.html">Sequel::IBMDB</a></li>
        
          <li><a href="../Sequel/IBMDB/Connection.html">Sequel::IBMDB::Connection</a></li>
        
          <li><a href="../Sequel/IBMDB/Connection/Error.html">Sequel::IBMDB::Connection::Error</a></li>
        
          <li><a href="../Sequel/IBMDB/Database.html">Sequel::IBMDB::Database</a></li>
        
          <li><a href="../Sequel/IBMDB/Dataset.html">Sequel::IBMDB::Dataset</a></li>
        
          <li><a href="../Sequel/IBMDB/Dataset/CallableStatementMethods.html">Sequel::IBMDB::Dataset::CallableStatementMethods</a></li>
        
          <li><a href="../Sequel/IBMDB/Dataset/PreparedStatementMethods.html">Sequel::IBMDB::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/IBMDB/Statement.html">Sequel::IBMDB::Statement</a></li>
        
          <li><a href="../Sequel/Inflections.html">Sequel::Inflections</a></li>
        
          <li><a href="../Sequel/Informix.html">Sequel::Informix</a></li>
        
          <li><a href="../Sequel/Informix/Database.html">Sequel::Informix::Database</a></li>
        
          <li><a href="../Sequel/Informix/DatabaseMethods.html">Sequel::Informix::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Informix/Dataset.html">Sequel::Informix::Dataset</a></li>
        
          <li><a href="../Sequel/Informix/DatasetMethods.html">Sequel::Informix::DatasetMethods</a></li>
        
          <li><a href="../Sequel/IntegerMigrator.html">Sequel::IntegerMigrator</a></li>
        
          <li><a href="../Sequel/InvalidOperation.html">Sequel::InvalidOperation</a></li>
        
          <li><a href="../Sequel/InvalidValue.html">Sequel::InvalidValue</a></li>
        
          <li><a href="../Sequel/JDBC.html">Sequel::JDBC</a></li>
        
          <li><a href="../Sequel/JDBC/AS400.html">Sequel::JDBC::AS400</a></li>
        
          <li><a href="../Sequel/JDBC/AS400/DatabaseMethods.html">Sequel::JDBC::AS400::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/AS400/Dataset.html">Sequel::JDBC::AS400::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Cubrid.html">Sequel::JDBC::Cubrid</a></li>
        
          <li><a href="../Sequel/JDBC/Cubrid/DatabaseMethods.html">Sequel::JDBC::Cubrid::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/DB2.html">Sequel::JDBC::DB2</a></li>
        
          <li><a href="../Sequel/JDBC/DB2/DatabaseMethods.html">Sequel::JDBC::DB2::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/DB2/Dataset.html">Sequel::JDBC::DB2::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Database.html">Sequel::JDBC::Database</a></li>
        
          <li><a href="../Sequel/JDBC/Dataset.html">Sequel::JDBC::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Dataset/PreparedStatementMethods.html">Sequel::JDBC::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Dataset/StoredProcedureMethods.html">Sequel::JDBC::Dataset::StoredProcedureMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Dataset/TYPE_TRANSLATOR.html">Sequel::JDBC::Dataset::TYPE_TRANSLATOR</a></li>
        
          <li><a href="../Sequel/JDBC/Derby.html">Sequel::JDBC::Derby</a></li>
        
          <li><a href="../Sequel/JDBC/Derby/DatabaseMethods.html">Sequel::JDBC::Derby::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Derby/Dataset.html">Sequel::JDBC::Derby::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Firebird.html">Sequel::JDBC::Firebird</a></li>
        
          <li><a href="../Sequel/JDBC/Firebird/DatabaseMethods.html">Sequel::JDBC::Firebird::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/H2.html">Sequel::JDBC::H2</a></li>
        
          <li><a href="../Sequel/JDBC/H2/DatabaseMethods.html">Sequel::JDBC::H2::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/H2/Dataset.html">Sequel::JDBC::H2::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/HSQLDB.html">Sequel::JDBC::HSQLDB</a></li>
        
          <li><a href="../Sequel/JDBC/HSQLDB/DatabaseMethods.html">Sequel::JDBC::HSQLDB::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/HSQLDB/Dataset.html">Sequel::JDBC::HSQLDB::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Informix.html">Sequel::JDBC::Informix</a></li>
        
          <li><a href="../Sequel/JDBC/Informix/DatabaseMethods.html">Sequel::JDBC::Informix::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/JTDS.html">Sequel::JDBC::JTDS</a></li>
        
          <li><a href="../Sequel/JDBC/JTDS/DatabaseMethods.html">Sequel::JDBC::JTDS::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/JTDS/Dataset.html">Sequel::JDBC::JTDS::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/JavaLang.html">Sequel::JDBC::JavaLang</a></li>
        
          <li><a href="../Sequel/JDBC/JavaSQL.html">Sequel::JDBC::JavaSQL</a></li>
        
          <li><a href="../Sequel/JDBC/JavaxNaming.html">Sequel::JDBC::JavaxNaming</a></li>
        
          <li><a href="../Sequel/JDBC/MSSQL.html">Sequel::JDBC::MSSQL</a></li>
        
          <li><a href="../Sequel/JDBC/MSSQL/DatabaseMethods.html">Sequel::JDBC::MSSQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/MySQL.html">Sequel::JDBC::MySQL</a></li>
        
          <li><a href="../Sequel/JDBC/MySQL/DatabaseMethods.html">Sequel::JDBC::MySQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Oracle.html">Sequel::JDBC::Oracle</a></li>
        
          <li><a href="../Sequel/JDBC/Oracle/DatabaseMethods.html">Sequel::JDBC::Oracle::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Oracle/Dataset.html">Sequel::JDBC::Oracle::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Postgres.html">Sequel::JDBC::Postgres</a></li>
        
          <li><a href="../Sequel/JDBC/Postgres/DatabaseMethods.html">Sequel::JDBC::Postgres::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Postgres/Dataset.html">Sequel::JDBC::Postgres::Dataset</a></li>
        
          <li><a href="../Sequel/JDBC/Postgres/Dataset/PGArrayConverter.html">Sequel::JDBC::Postgres::Dataset::PGArrayConverter</a></li>
        
          <li><a href="../Sequel/JDBC/Progress.html">Sequel::JDBC::Progress</a></li>
        
          <li><a href="../Sequel/JDBC/Progress/DatabaseMethods.html">Sequel::JDBC::Progress::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/SQLServer.html">Sequel::JDBC::SQLServer</a></li>
        
          <li><a href="../Sequel/JDBC/SQLServer/DatabaseMethods.html">Sequel::JDBC::SQLServer::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/SQLServer/DatabaseMethods/MetadataDatasetMethods.html">Sequel::JDBC::SQLServer::DatabaseMethods::MetadataDatasetMethods</a></li>
        
          <li><a href="../Sequel/JDBC/SQLite.html">Sequel::JDBC::SQLite</a></li>
        
          <li><a href="../Sequel/JDBC/SQLite/DatabaseMethods.html">Sequel::JDBC::SQLite::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/JDBC/Transactions.html">Sequel::JDBC::Transactions</a></li>
        
          <li><a href="../Sequel/LiteralString.html">Sequel::LiteralString</a></li>
        
          <li><a href="../Sequel/LooserTypecasting.html">Sequel::LooserTypecasting</a></li>
        
          <li><a href="../Sequel/MSSQL.html">Sequel::MSSQL</a></li>
        
          <li><a href="../Sequel/MSSQL/DatabaseMethods.html">Sequel::MSSQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/MSSQL/DatasetMethods.html">Sequel::MSSQL::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Metaprogramming.html">Sequel::Metaprogramming</a></li>
        
          <li><a href="../Sequel/Migration.html">Sequel::Migration</a></li>
        
          <li><a href="../Sequel/MigrationAlterTableReverser.html">Sequel::MigrationAlterTableReverser</a></li>
        
          <li><a href="../Sequel/MigrationDSL.html">Sequel::MigrationDSL</a></li>
        
          <li><a href="../Sequel/MigrationReverser.html">Sequel::MigrationReverser</a></li>
        
          <li><a href="../Sequel/Migrator.html">Sequel::Migrator</a></li>
        
          <li><a href="../Sequel/Migrator/Error.html">Sequel::Migrator::Error</a></li>
        
          <li><a href="../Sequel/Migrator/NotCurrentError.html">Sequel::Migrator::NotCurrentError</a></li>
        
          <li><a href="../Sequel/Mock.html">Sequel::Mock</a></li>
        
          <li><a href="../Sequel/Mock/Connection.html">Sequel::Mock::Connection</a></li>
        
          <li><a href="../Sequel/Mock/Database.html">Sequel::Mock::Database</a></li>
        
          <li><a href="../Sequel/Mock/Dataset.html">Sequel::Mock::Dataset</a></li>
        
          <li><a href="../Sequel/Model.html">Sequel::Model</a></li>
        
          <li><a href="../Sequel/Model/Associations.html">Sequel::Model::Associations</a></li>
        
          <li><a href="../Sequel/Model/Associations/AssociationDatasetMethods.html">Sequel::Model::Associations::AssociationDatasetMethods</a></li>
        
          <li><a href="../Sequel/Model/Associations/AssociationReflection.html">Sequel::Model::Associations::AssociationReflection</a></li>
        
          <li><a href="../Sequel/Model/Associations/ClassMethods.html">Sequel::Model::Associations::ClassMethods</a></li>
        
          <li><a href="../Sequel/Model/Associations/DatasetMethods.html">Sequel::Model::Associations::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Model/Associations/EagerGraphLoader.html">Sequel::Model::Associations::EagerGraphLoader</a></li>
        
          <li><a href="../Sequel/Model/Associations/InstanceMethods.html">Sequel::Model::Associations::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Model/Associations/ManyToManyAssociationReflection.html">Sequel::Model::Associations::ManyToManyAssociationReflection</a></li>
        
          <li><a href="../Sequel/Model/Associations/ManyToOneAssociationReflection.html">Sequel::Model::Associations::ManyToOneAssociationReflection</a></li>
        
          <li><a href="../Sequel/Model/Associations/OneToManyAssociationReflection.html">Sequel::Model::Associations::OneToManyAssociationReflection</a></li>
        
          <li><a href="../Sequel/Model/Associations/OneToOneAssociationReflection.html">Sequel::Model::Associations::OneToOneAssociationReflection</a></li>
        
          <li><a href="../Sequel/Model/ClassMethods.html">Sequel::Model::ClassMethods</a></li>
        
          <li><a href="../Sequel/Model/DatasetMethods.html">Sequel::Model::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Model/Errors.html">Sequel::Model::Errors</a></li>
        
          <li><a href="../Sequel/Model/InstanceMethods.html">Sequel::Model::InstanceMethods</a></li>
        
          <li><a href="../Sequel/MySQL.html">Sequel::MySQL</a></li>
        
          <li><a href="../Sequel/MySQL/Database.html">Sequel::MySQL::Database</a></li>
        
          <li><a href="../Sequel/MySQL/DatabaseMethods.html">Sequel::MySQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/MySQL/Dataset.html">Sequel::MySQL::Dataset</a></li>
        
          <li><a href="../Sequel/MySQL/DatasetMethods.html">Sequel::MySQL::DatasetMethods</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements.html">Sequel::MySQL::PreparedStatements</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements/DatabaseMethods.html">Sequel::MySQL::PreparedStatements::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements/DatasetMethods.html">Sequel::MySQL::PreparedStatements::DatasetMethods</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements/DatasetMethods/CallableStatementMethods.html">Sequel::MySQL::PreparedStatements::DatasetMethods::CallableStatementMethods</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements/DatasetMethods/PreparedStatementMethods.html">Sequel::MySQL::PreparedStatements::DatasetMethods::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/MySQL/PreparedStatements/DatasetMethods/StoredProcedureMethods.html">Sequel::MySQL::PreparedStatements::DatasetMethods::StoredProcedureMethods</a></li>
        
          <li><a href="../Sequel/Mysql2.html">Sequel::Mysql2</a></li>
        
          <li><a href="../Sequel/Mysql2/Database.html">Sequel::Mysql2::Database</a></li>
        
          <li><a href="../Sequel/Mysql2/Dataset.html">Sequel::Mysql2::Dataset</a></li>
        
          <li><a href="../Sequel/NamedTimezones.html">Sequel::NamedTimezones</a></li>
        
          <li><a href="../Sequel/NoExistingObject.html">Sequel::NoExistingObject</a></li>
        
          <li><a href="../Sequel/NotImplemented.html">Sequel::NotImplemented</a></li>
        
          <li><a href="../Sequel/ODBC.html">Sequel::ODBC</a></li>
        
          <li><a href="../Sequel/ODBC/Database.html">Sequel::ODBC::Database</a></li>
        
          <li><a href="../Sequel/ODBC/Dataset.html">Sequel::ODBC::Dataset</a></li>
        
          <li><a href="../Sequel/ODBC/MSSQL.html">Sequel::ODBC::MSSQL</a></li>
        
          <li><a href="../Sequel/ODBC/MSSQL/DatabaseMethods.html">Sequel::ODBC::MSSQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/ODBC/MSSQL/Dataset.html">Sequel::ODBC::MSSQL::Dataset</a></li>
        
          <li><a href="../Sequel/OpenBase.html">Sequel::OpenBase</a></li>
        
          <li><a href="../Sequel/OpenBase/Database.html">Sequel::OpenBase::Database</a></li>
        
          <li><a href="../Sequel/OpenBase/Dataset.html">Sequel::OpenBase::Dataset</a></li>
        
          <li><a href="../Sequel/Oracle.html">Sequel::Oracle</a></li>
        
          <li><a href="../Sequel/Oracle/Database.html">Sequel::Oracle::Database</a></li>
        
          <li><a href="../Sequel/Oracle/DatabaseMethods.html">Sequel::Oracle::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Oracle/Dataset.html">Sequel::Oracle::Dataset</a></li>
        
          <li><a href="../Sequel/Oracle/Dataset/ArgumentMapper.html">Sequel::Oracle::Dataset::ArgumentMapper</a></li>
        
          <li><a href="../Sequel/Oracle/Dataset/BindArgumentMethods.html">Sequel::Oracle::Dataset::BindArgumentMethods</a></li>
        
          <li><a href="../Sequel/Oracle/Dataset/PreparedStatementMethods.html">Sequel::Oracle::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/Oracle/DatasetMethods.html">Sequel::Oracle::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins.html">Sequel::Plugins</a></li>
        
          <li><a href="../Sequel/Plugins/ActiveModel.html">Sequel::Plugins::ActiveModel</a></li>
        
          <li><a href="../Sequel/Plugins/ActiveModel/ClassMethods.html">Sequel::Plugins::ActiveModel::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ActiveModel/InstanceMethods.html">Sequel::Plugins::ActiveModel::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationAutoreloading.html">Sequel::Plugins::AssociationAutoreloading</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationAutoreloading/ClassMethods.html">Sequel::Plugins::AssociationAutoreloading::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationDependencies.html">Sequel::Plugins::AssociationDependencies</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationDependencies/ClassMethods.html">Sequel::Plugins::AssociationDependencies::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationDependencies/InstanceMethods.html">Sequel::Plugins::AssociationDependencies::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationPks.html">Sequel::Plugins::AssociationPks</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationPks/ClassMethods.html">Sequel::Plugins::AssociationPks::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationPks/InstanceMethods.html">Sequel::Plugins::AssociationPks::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationProxies.html">Sequel::Plugins::AssociationProxies</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationProxies/AssociationProxy.html">Sequel::Plugins::AssociationProxies::AssociationProxy</a></li>
        
          <li><a href="../Sequel/Plugins/AssociationProxies/ClassMethods.html">Sequel::Plugins::AssociationProxies::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/BooleanReaders.html">Sequel::Plugins::BooleanReaders</a></li>
        
          <li><a href="../Sequel/Plugins/BooleanReaders/ClassMethods.html">Sequel::Plugins::BooleanReaders::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Caching.html">Sequel::Plugins::Caching</a></li>
        
          <li><a href="../Sequel/Plugins/Caching/ClassMethods.html">Sequel::Plugins::Caching::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Caching/InstanceMethods.html">Sequel::Plugins::Caching::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ClassTableInheritance.html">Sequel::Plugins::ClassTableInheritance</a></li>
        
          <li><a href="../Sequel/Plugins/ClassTableInheritance/ClassMethods.html">Sequel::Plugins::ClassTableInheritance::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ClassTableInheritance/InstanceMethods.html">Sequel::Plugins::ClassTableInheritance::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Composition.html">Sequel::Plugins::Composition</a></li>
        
          <li><a href="../Sequel/Plugins/Composition/ClassMethods.html">Sequel::Plugins::Composition::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Composition/InstanceMethods.html">Sequel::Plugins::Composition::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ConstraintValidations.html">Sequel::Plugins::ConstraintValidations</a></li>
        
          <li><a href="../Sequel/Plugins/ConstraintValidations/ClassMethods.html">Sequel::Plugins::ConstraintValidations::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ConstraintValidations/DatabaseMethods.html">Sequel::Plugins::ConstraintValidations::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ConstraintValidations/InstanceMethods.html">Sequel::Plugins::ConstraintValidations::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/DatasetAssociations.html">Sequel::Plugins::DatasetAssociations</a></li>
        
          <li><a href="../Sequel/Plugins/DatasetAssociations/ClassMethods.html">Sequel::Plugins::DatasetAssociations::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/DatasetAssociations/DatasetMethods.html">Sequel::Plugins::DatasetAssociations::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/DefaultsSetter.html">Sequel::Plugins::DefaultsSetter</a></li>
        
          <li><a href="../Sequel/Plugins/DefaultsSetter/ClassMethods.html">Sequel::Plugins::DefaultsSetter::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/DefaultsSetter/InstanceMethods.html">Sequel::Plugins::DefaultsSetter::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Dirty.html">Sequel::Plugins::Dirty</a></li>
        
          <li><a href="../Sequel/Plugins/Dirty/InstanceMethods.html">Sequel::Plugins::Dirty::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/EagerEach.html">Sequel::Plugins::EagerEach</a></li>
        
          <li><a href="../Sequel/Plugins/EagerEach/DatasetMethods.html">Sequel::Plugins::EagerEach::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/EagerEach/EagerDatasetMethods.html">Sequel::Plugins::EagerEach::EagerDatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ForceEncoding.html">Sequel::Plugins::ForceEncoding</a></li>
        
          <li><a href="../Sequel/Plugins/ForceEncoding/ClassMethods.html">Sequel::Plugins::ForceEncoding::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ForceEncoding/InstanceMethods.html">Sequel::Plugins::ForceEncoding::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/HookClassMethods.html">Sequel::Plugins::HookClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/HookClassMethods/ClassMethods.html">Sequel::Plugins::HookClassMethods::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/HookClassMethods/InstanceMethods.html">Sequel::Plugins::HookClassMethods::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/IdentityMap.html">Sequel::Plugins::IdentityMap</a></li>
        
          <li><a href="../Sequel/Plugins/IdentityMap/ClassMethods.html">Sequel::Plugins::IdentityMap::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/IdentityMap/InstanceMethods.html">Sequel::Plugins::IdentityMap::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/InstanceFilters.html">Sequel::Plugins::InstanceFilters</a></li>
        
          <li><a href="../Sequel/NoExistingObject.html">Sequel::Plugins::InstanceFilters::Error</a></li>
        
          <li><a href="../Sequel/Plugins/InstanceFilters/InstanceMethods.html">Sequel::Plugins::InstanceFilters::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/InstanceHooks.html">Sequel::Plugins::InstanceHooks</a></li>
        
          <li><a href="../Sequel/Plugins/InstanceHooks/InstanceMethods.html">Sequel::Plugins::InstanceHooks::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/JsonSerializer.html">Sequel::Plugins::JsonSerializer</a></li>
        
          <li><a href="../Sequel/Plugins/JsonSerializer/ClassMethods.html">Sequel::Plugins::JsonSerializer::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/JsonSerializer/DatasetMethods.html">Sequel::Plugins::JsonSerializer::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/JsonSerializer/InstanceMethods.html">Sequel::Plugins::JsonSerializer::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/JsonSerializer/Literal.html">Sequel::Plugins::JsonSerializer::Literal</a></li>
        
          <li><a href="../Sequel/Plugins/LazyAttributes.html">Sequel::Plugins::LazyAttributes</a></li>
        
          <li><a href="../Sequel/Plugins/LazyAttributes/ClassMethods.html">Sequel::Plugins::LazyAttributes::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/LazyAttributes/InstanceMethods.html">Sequel::Plugins::LazyAttributes::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/List.html">Sequel::Plugins::List</a></li>
        
          <li><a href="../Sequel/Plugins/List/ClassMethods.html">Sequel::Plugins::List::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/List/InstanceMethods.html">Sequel::Plugins::List::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ManyThroughMany.html">Sequel::Plugins::ManyThroughMany</a></li>
        
          <li><a href="../Sequel/Plugins/ManyThroughMany/ClassMethods.html">Sequel::Plugins::ManyThroughMany::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ManyThroughMany/DatasetMethods.html">Sequel::Plugins::ManyThroughMany::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ManyThroughMany/ManyThroughManyAssociationReflection.html">Sequel::Plugins::ManyThroughMany::ManyThroughManyAssociationReflection</a></li>
        
          <li><a href="../Sequel/Plugins/ManyToOnePkLookup.html">Sequel::Plugins::ManyToOnePkLookup</a></li>
        
          <li><a href="../Sequel/Plugins/ManyToOnePkLookup/InstanceMethods.html">Sequel::Plugins::ManyToOnePkLookup::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/NestedAttributes.html">Sequel::Plugins::NestedAttributes</a></li>
        
          <li><a href="../Sequel/Plugins/NestedAttributes/ClassMethods.html">Sequel::Plugins::NestedAttributes::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/NestedAttributes/InstanceMethods.html">Sequel::Plugins::NestedAttributes::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/OptimisticLocking.html">Sequel::Plugins::OptimisticLocking</a></li>
        
          <li><a href="../Sequel/Plugins/OptimisticLocking/ClassMethods.html">Sequel::Plugins::OptimisticLocking::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/OptimisticLocking/InstanceMethods.html">Sequel::Plugins::OptimisticLocking::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PgRow.html">Sequel::Plugins::PgRow</a></li>
        
          <li><a href="../Sequel/Plugins/PgRow/ClassMethods.html">Sequel::Plugins::PgRow::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PgRow/DatabaseMethods.html">Sequel::Plugins::PgRow::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PgRow/InstanceMethods.html">Sequel::Plugins::PgRow::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PgTypecastOnLoad.html">Sequel::Plugins::PgTypecastOnLoad</a></li>
        
          <li><a href="../Sequel/Plugins/PgTypecastOnLoad/ClassMethods.html">Sequel::Plugins::PgTypecastOnLoad::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PgTypecastOnLoad/InstanceMethods.html">Sequel::Plugins::PgTypecastOnLoad::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatements.html">Sequel::Plugins::PreparedStatements</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatements/ClassMethods.html">Sequel::Plugins::PreparedStatements::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatements/InstanceMethods.html">Sequel::Plugins::PreparedStatements::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsAssociations.html">Sequel::Plugins::PreparedStatementsAssociations</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsAssociations/ClassMethods.html">Sequel::Plugins::PreparedStatementsAssociations::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsAssociations/InstanceMethods.html">Sequel::Plugins::PreparedStatementsAssociations::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsSafe.html">Sequel::Plugins::PreparedStatementsSafe</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsSafe/ClassMethods.html">Sequel::Plugins::PreparedStatementsSafe::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsSafe/InstanceMethods.html">Sequel::Plugins::PreparedStatementsSafe::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsWithPk.html">Sequel::Plugins::PreparedStatementsWithPk</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsWithPk/ClassMethods.html">Sequel::Plugins::PreparedStatementsWithPk::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/PreparedStatementsWithPk/DatasetMethods.html">Sequel::Plugins::PreparedStatementsWithPk::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/RcteTree.html">Sequel::Plugins::RcteTree</a></li>
        
          <li><a href="../Sequel/Plugins/Schema.html">Sequel::Plugins::Schema</a></li>
        
          <li><a href="../Sequel/Plugins/Schema/ClassMethods.html">Sequel::Plugins::Schema::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Serialization.html">Sequel::Plugins::Serialization</a></li>
        
          <li><a href="../Sequel/Plugins/Serialization/ClassMethods.html">Sequel::Plugins::Serialization::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Serialization/InstanceMethods.html">Sequel::Plugins::Serialization::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/SerializationModificationDetection.html">Sequel::Plugins::SerializationModificationDetection</a></li>
        
          <li><a href="../Sequel/Plugins/SerializationModificationDetection/InstanceMethods.html">Sequel::Plugins::SerializationModificationDetection::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Sharding.html">Sequel::Plugins::Sharding</a></li>
        
          <li><a href="../Sequel/Plugins/Sharding/ClassMethods.html">Sequel::Plugins::Sharding::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Sharding/DatasetMethods.html">Sequel::Plugins::Sharding::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Sharding/InstanceMethods.html">Sequel::Plugins::Sharding::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/SingleTableInheritance.html">Sequel::Plugins::SingleTableInheritance</a></li>
        
          <li><a href="../Sequel/Plugins/SingleTableInheritance/ClassMethods.html">Sequel::Plugins::SingleTableInheritance::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/SingleTableInheritance/InstanceMethods.html">Sequel::Plugins::SingleTableInheritance::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/SkipCreateRefresh.html">Sequel::Plugins::SkipCreateRefresh</a></li>
        
          <li><a href="../Sequel/Plugins/SkipCreateRefresh/InstanceMethods.html">Sequel::Plugins::SkipCreateRefresh::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/StaticCache.html">Sequel::Plugins::StaticCache</a></li>
        
          <li><a href="../Sequel/Plugins/StaticCache/ClassMethods.html">Sequel::Plugins::StaticCache::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/StringStripper.html">Sequel::Plugins::StringStripper</a></li>
        
          <li><a href="../Sequel/Plugins/StringStripper/InstanceMethods.html">Sequel::Plugins::StringStripper::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Subclasses.html">Sequel::Plugins::Subclasses</a></li>
        
          <li><a href="../Sequel/Plugins/Subclasses/ClassMethods.html">Sequel::Plugins::Subclasses::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/TacticalEagerLoading.html">Sequel::Plugins::TacticalEagerLoading</a></li>
        
          <li><a href="../Sequel/Plugins/TacticalEagerLoading/DatasetMethods.html">Sequel::Plugins::TacticalEagerLoading::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/TacticalEagerLoading/InstanceMethods.html">Sequel::Plugins::TacticalEagerLoading::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Timestamps.html">Sequel::Plugins::Timestamps</a></li>
        
          <li><a href="../Sequel/Plugins/Timestamps/ClassMethods.html">Sequel::Plugins::Timestamps::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Timestamps/InstanceMethods.html">Sequel::Plugins::Timestamps::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Touch.html">Sequel::Plugins::Touch</a></li>
        
          <li><a href="../Sequel/Plugins/Touch/ClassMethods.html">Sequel::Plugins::Touch::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Touch/InstanceMethods.html">Sequel::Plugins::Touch::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Tree.html">Sequel::Plugins::Tree</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/ClassMethods.html">Sequel::Plugins::Tree::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/InstanceMethods.html">Sequel::Plugins::Tree::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/SingleRoot.html">Sequel::Plugins::Tree::SingleRoot</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/SingleRoot/ClassMethods.html">Sequel::Plugins::Tree::SingleRoot::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/SingleRoot/InstanceMethods.html">Sequel::Plugins::Tree::SingleRoot::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/Tree/TreeMultipleRootError.html">Sequel::Plugins::Tree::TreeMultipleRootError</a></li>
        
          <li><a href="../Sequel/Plugins/TypecastOnLoad.html">Sequel::Plugins::TypecastOnLoad</a></li>
        
          <li><a href="../Sequel/Plugins/TypecastOnLoad/ClassMethods.html">Sequel::Plugins::TypecastOnLoad::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/TypecastOnLoad/InstanceMethods.html">Sequel::Plugins::TypecastOnLoad::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/UpdatePrimaryKey.html">Sequel::Plugins::UpdatePrimaryKey</a></li>
        
          <li><a href="../Sequel/Plugins/UpdatePrimaryKey/ClassMethods.html">Sequel::Plugins::UpdatePrimaryKey::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/UpdatePrimaryKey/InstanceMethods.html">Sequel::Plugins::UpdatePrimaryKey::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationClassMethods.html">Sequel::Plugins::ValidationClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationClassMethods/ClassMethods.html">Sequel::Plugins::ValidationClassMethods::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationClassMethods/ClassMethods/Generator.html">Sequel::Plugins::ValidationClassMethods::ClassMethods::Generator</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationClassMethods/InstanceMethods.html">Sequel::Plugins::ValidationClassMethods::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationHelpers.html">Sequel::Plugins::ValidationHelpers</a></li>
        
          <li><a href="../Sequel/Plugins/ValidationHelpers/InstanceMethods.html">Sequel::Plugins::ValidationHelpers::InstanceMethods</a></li>
        
          <li><a href="../Sequel/Plugins/XmlSerializer.html">Sequel::Plugins::XmlSerializer</a></li>
        
          <li><a href="../Sequel/Plugins/XmlSerializer/ClassMethods.html">Sequel::Plugins::XmlSerializer::ClassMethods</a></li>
        
          <li><a href="../Sequel/Plugins/XmlSerializer/DatasetMethods.html">Sequel::Plugins::XmlSerializer::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Plugins/XmlSerializer/InstanceMethods.html">Sequel::Plugins::XmlSerializer::InstanceMethods</a></li>
        
          <li><a href="../Sequel/PoolTimeout.html">Sequel::PoolTimeout</a></li>
        
          <li><a href="../Sequel/Postgres.html">Sequel::Postgres</a></li>
        
          <li><a href="../Sequel/Postgres/Adapter.html">Sequel::Postgres::Adapter</a></li>
        
          <li><a href="../Sequel/Postgres/AlterTableGenerator.html">Sequel::Postgres::AlterTableGenerator</a></li>
        
          <li><a href="../Sequel/Postgres/ArrayOp.html">Sequel::Postgres::ArrayOp</a></li>
        
          <li><a href="../Sequel/Postgres/ArrayOpMethods.html">Sequel::Postgres::ArrayOpMethods</a></li>
        
          <li><a href="../Sequel/Postgres/AutoParameterize.html">Sequel::Postgres::AutoParameterize</a></li>
        
          <li><a href="../Sequel/Postgres/AutoParameterize/DatabaseMethods.html">Sequel::Postgres::AutoParameterize::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/AutoParameterize/DatasetMethods.html">Sequel::Postgres::AutoParameterize::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Postgres/AutoParameterize/StringWithArray.html">Sequel::Postgres::AutoParameterize::StringWithArray</a></li>
        
          <li><a href="../Sequel/Postgres/CreateTableGenerator.html">Sequel::Postgres::CreateTableGenerator</a></li>
        
          <li><a href="../Sequel/Postgres/Database.html">Sequel::Postgres::Database</a></li>
        
          <li><a href="../Sequel/Postgres/DatabaseMethods.html">Sequel::Postgres::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/Dataset.html">Sequel::Postgres::Dataset</a></li>
        
          <li><a href="../Sequel/Postgres/Dataset/ArgumentMapper.html">Sequel::Postgres::Dataset::ArgumentMapper</a></li>
        
          <li><a href="../Sequel/Postgres/Dataset/BindArgumentMethods.html">Sequel::Postgres::Dataset::BindArgumentMethods</a></li>
        
          <li><a href="../Sequel/Postgres/Dataset/PreparedStatementMethods.html">Sequel::Postgres::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/Postgres/DatasetMethods.html">Sequel::Postgres::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Postgres/DatasetMethods/PreparedStatementMethods.html">Sequel::Postgres::DatasetMethods::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/Postgres/HStore.html">Sequel::Postgres::HStore</a></li>
        
          <li><a href="../Sequel/Postgres/HStore/DatabaseMethods.html">Sequel::Postgres::HStore::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/HStore/Parser.html">Sequel::Postgres::HStore::Parser</a></li>
        
          <li><a href="../Sequel/Postgres/HStoreOp.html">Sequel::Postgres::HStoreOp</a></li>
        
          <li><a href="../Sequel/Postgres/HStoreOpMethods.html">Sequel::Postgres::HStoreOpMethods</a></li>
        
          <li><a href="../Sequel/Postgres/InetDatabaseMethods.html">Sequel::Postgres::InetDatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/InetDatasetMethods.html">Sequel::Postgres::InetDatasetMethods</a></li>
        
          <li><a href="../Sequel/Postgres/IntervalDatabaseMethods.html">Sequel::Postgres::IntervalDatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/IntervalDatabaseMethods/Parser.html">Sequel::Postgres::IntervalDatabaseMethods::Parser</a></li>
        
          <li><a href="../Sequel/Postgres/IntervalDatasetMethods.html">Sequel::Postgres::IntervalDatasetMethods</a></li>
        
          <li><a href="../Sequel/Postgres/JSONArray.html">Sequel::Postgres::JSONArray</a></li>
        
          <li><a href="../Sequel/Postgres/JSONDatabaseMethods.html">Sequel::Postgres::JSONDatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/JSONHash.html">Sequel::Postgres::JSONHash</a></li>
        
          <li><a href="../Sequel/Postgres/PGArray.html">Sequel::Postgres::PGArray</a></li>
        
          <li><a href="../Sequel/Postgres/PGArray/Creator.html">Sequel::Postgres::PGArray::Creator</a></li>
        
          <li><a href="../Sequel/Postgres/PGArray/DatabaseMethods.html">Sequel::Postgres::PGArray::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/PGArray/JSONCreator.html">Sequel::Postgres::PGArray::JSONCreator</a></li>
        
          <li><a href="../Sequel/Postgres/PGArray/Parser.html">Sequel::Postgres::PGArray::Parser</a></li>
        
          <li><a href="../Sequel/Postgres/PGRange.html">Sequel::Postgres::PGRange</a></li>
        
          <li><a href="../Sequel/Postgres/PGRange/DatabaseMethods.html">Sequel::Postgres::PGRange::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/PGRange/DatasetMethods.html">Sequel::Postgres::PGRange::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Postgres/PGRange/Parser.html">Sequel::Postgres::PGRange::Parser</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow.html">Sequel::Postgres::PGRow</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow/ArrayRow.html">Sequel::Postgres::PGRow::ArrayRow</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow/DatabaseMethods.html">Sequel::Postgres::PGRow::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow/HashRow.html">Sequel::Postgres::PGRow::HashRow</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow/Parser.html">Sequel::Postgres::PGRow::Parser</a></li>
        
          <li><a href="../Sequel/Postgres/PGRow/Splitter.html">Sequel::Postgres::PGRow::Splitter</a></li>
        
          <li><a href="../Sequel/Postgres/PGRowOp.html">Sequel::Postgres::PGRowOp</a></li>
        
          <li><a href="../Sequel/Postgres/PGRowOp/ExpressionMethods.html">Sequel::Postgres::PGRowOp::ExpressionMethods</a></li>
        
          <li><a href="../Sequel/Postgres/RangeOp.html">Sequel::Postgres::RangeOp</a></li>
        
          <li><a href="../Sequel/Postgres/RangeOpMethods.html">Sequel::Postgres::RangeOpMethods</a></li>
        
          <li><a href="../Sequel/Postgres/StatementCache.html">Sequel::Postgres::StatementCache</a></li>
        
          <li><a href="../Sequel/Postgres/StatementCache/AdapterMethods.html">Sequel::Postgres::StatementCache::AdapterMethods</a></li>
        
          <li><a href="../Sequel/Postgres/StatementCache/DatabaseMethods.html">Sequel::Postgres::StatementCache::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Postgres/StatementCache/Statement.html">Sequel::Postgres::StatementCache::Statement</a></li>
        
          <li><a href="../Sequel/Postgres/StatementCache/StatementCache.html">Sequel::Postgres::StatementCache::StatementCache</a></li>
        
          <li><a href="../Sequel/PrettyTable.html">Sequel::PrettyTable</a></li>
        
          <li><a href="../Sequel/Progress.html">Sequel::Progress</a></li>
        
          <li><a href="../Sequel/Progress/DatabaseMethods.html">Sequel::Progress::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Progress/DatasetMethods.html">Sequel::Progress::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Qualifier.html">Sequel::Qualifier</a></li>
        
          <li><a href="../Sequel/QueryLiterals.html">Sequel::QueryLiterals</a></li>
        
          <li><a href="../Sequel/Rollback.html">Sequel::Rollback</a></li>
        
          <li><a href="../Sequel/SQL.html">Sequel::SQL</a></li>
        
          <li><a href="../Sequel/SQL/AliasMethods.html">Sequel::SQL::AliasMethods</a></li>
        
          <li><a href="../Sequel/SQL/AliasedExpression.html">Sequel::SQL::AliasedExpression</a></li>
        
          <li><a href="../Sequel/SQL/BitwiseMethods.html">Sequel::SQL::BitwiseMethods</a></li>
        
          <li><a href="../Sequel/SQL/Blob.html">Sequel::SQL::Blob</a></li>
        
          <li><a href="../Sequel/SQL/BooleanConstant.html">Sequel::SQL::BooleanConstant</a></li>
        
          <li><a href="../Sequel/SQL/BooleanExpression.html">Sequel::SQL::BooleanExpression</a></li>
        
          <li><a href="../Sequel/SQL/BooleanMethods.html">Sequel::SQL::BooleanMethods</a></li>
        
          <li><a href="../Sequel/SQL/Builders.html">Sequel::SQL::Builders</a></li>
        
          <li><a href="../Sequel/SQL/CaseExpression.html">Sequel::SQL::CaseExpression</a></li>
        
          <li><a href="../Sequel/SQL/Cast.html">Sequel::SQL::Cast</a></li>
        
          <li><a href="../Sequel/SQL/CastMethods.html">Sequel::SQL::CastMethods</a></li>
        
          <li><a href="../Sequel/SQL/ColumnAll.html">Sequel::SQL::ColumnAll</a></li>
        
          <li><a href="../Sequel/SQL/ComplexExpression.html">Sequel::SQL::ComplexExpression</a></li>
        
          <li><a href="../Sequel/SQL/ComplexExpressionMethods.html">Sequel::SQL::ComplexExpressionMethods</a></li>
        
          <li><a href="../Sequel/SQL/Constant.html">Sequel::SQL::Constant</a></li>
        
          <li><a href="../Sequel/SQL/Constants.html">Sequel::SQL::Constants</a></li>
        
          <li><a href="../Sequel/SQL/DelayedEvaluation.html">Sequel::SQL::DelayedEvaluation</a></li>
        
          <li><a href="../Sequel/SQL/EmulatedFunction.html">Sequel::SQL::EmulatedFunction</a></li>
        
          <li><a href="../Sequel/SQL/Expression.html">Sequel::SQL::Expression</a></li>
        
          <li><a href="../Sequel/SQL/Function.html">Sequel::SQL::Function</a></li>
        
          <li><a href="../Sequel/SQL/GenericExpression.html">Sequel::SQL::GenericExpression</a></li>
        
          <li><a href="../Sequel/SQL/Identifier.html">Sequel::SQL::Identifier</a></li>
        
          <li><a href="../Sequel/SQL/InequalityMethods.html">Sequel::SQL::InequalityMethods</a></li>
        
          <li><a href="../Sequel/SQL/JoinClause.html">Sequel::SQL::JoinClause</a></li>
        
          <li><a href="../Sequel/SQL/JoinOnClause.html">Sequel::SQL::JoinOnClause</a></li>
        
          <li><a href="../Sequel/SQL/JoinUsingClause.html">Sequel::SQL::JoinUsingClause</a></li>
        
          <li><a href="../Sequel/SQL/NegativeBooleanConstant.html">Sequel::SQL::NegativeBooleanConstant</a></li>
        
          <li><a href="../Sequel/SQL/NoBooleanInputMethods.html">Sequel::SQL::NoBooleanInputMethods</a></li>
        
          <li><a href="../Sequel/SQL/NumericExpression.html">Sequel::SQL::NumericExpression</a></li>
        
          <li><a href="../Sequel/SQL/NumericMethods.html">Sequel::SQL::NumericMethods</a></li>
        
          <li><a href="../Sequel/SQL/OperatorBuilders.html">Sequel::SQL::OperatorBuilders</a></li>
        
          <li><a href="../Sequel/SQL/OrderMethods.html">Sequel::SQL::OrderMethods</a></li>
        
          <li><a href="../Sequel/SQL/OrderedExpression.html">Sequel::SQL::OrderedExpression</a></li>
        
          <li><a href="../Sequel/SQL/PlaceholderLiteralString.html">Sequel::SQL::PlaceholderLiteralString</a></li>
        
          <li><a href="../Sequel/SQL/QualifiedIdentifier.html">Sequel::SQL::QualifiedIdentifier</a></li>
        
          <li><a href="../Sequel/SQL/QualifyingMethods.html">Sequel::SQL::QualifyingMethods</a></li>
        
          <li><a href="../Sequel/SQL/ValueList.html">Sequel::SQL::SQLArray</a></li>
        
          <li><a href="../Sequel/SQL/StringConcatenationMethods.html">Sequel::SQL::StringConcatenationMethods</a></li>
        
          <li><a href="../Sequel/SQL/StringExpression.html">Sequel::SQL::StringExpression</a></li>
        
          <li><a href="../Sequel/SQL/StringMethods.html">Sequel::SQL::StringMethods</a></li>
        
          <li><a href="../Sequel/SQL/Subscript.html">Sequel::SQL::Subscript</a></li>
        
          <li><a href="../Sequel/SQL/SubscriptMethods.html">Sequel::SQL::SubscriptMethods</a></li>
        
          <li><a href="../Sequel/SQL/ValueList.html">Sequel::SQL::ValueList</a></li>
        
          <li><a href="../Sequel/SQL/VirtualRow.html">Sequel::SQL::VirtualRow</a></li>
        
          <li><a href="../Sequel/SQL/Window.html">Sequel::SQL::Window</a></li>
        
          <li><a href="../Sequel/SQL/WindowFunction.html">Sequel::SQL::WindowFunction</a></li>
        
          <li><a href="../Sequel/SQL/Wrapper.html">Sequel::SQL::Wrapper</a></li>
        
          <li><a href="../Sequel/SQLTime.html">Sequel::SQLTime</a></li>
        
          <li><a href="../Sequel/SQLite.html">Sequel::SQLite</a></li>
        
          <li><a href="../Sequel/SQLite/Database.html">Sequel::SQLite::Database</a></li>
        
          <li><a href="../Sequel/SQLite/DatabaseMethods.html">Sequel::SQLite::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/SQLite/Dataset.html">Sequel::SQLite::Dataset</a></li>
        
          <li><a href="../Sequel/SQLite/Dataset/ArgumentMapper.html">Sequel::SQLite::Dataset::ArgumentMapper</a></li>
        
          <li><a href="../Sequel/SQLite/Dataset/BindArgumentMethods.html">Sequel::SQLite::Dataset::BindArgumentMethods</a></li>
        
          <li><a href="../Sequel/SQLite/Dataset/PreparedStatementMethods.html">Sequel::SQLite::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/SQLite/DatasetMethods.html">Sequel::SQLite::DatasetMethods</a></li>
        
          <li><a href="../Sequel/Schema.html">Sequel::Schema</a></li>
        
          <li><a href="../Sequel/Schema/AlterTableGenerator.html">Sequel::Schema::AlterTableGenerator</a></li>
        
          <li><a href="../Sequel/Schema/CreateTableGenerator.html">Sequel::Schema::CreateTableGenerator</a></li>
        
          <li><a href="../Sequel/Schema/CreateTableGenerator.html">Sequel::Schema::Generator</a></li>
        
          <li><a href="../Sequel/ServerBlock.html">Sequel::ServerBlock</a></li>
        
          <li><a href="../Sequel/ShardedSingleConnectionPool.html">Sequel::ShardedSingleConnectionPool</a></li>
        
          <li><a href="../Sequel/ShardedThreadedConnectionPool.html">Sequel::ShardedThreadedConnectionPool</a></li>
        
          <li><a href="../Sequel/SimpleMigration.html">Sequel::SimpleMigration</a></li>
        
          <li><a href="../Sequel/SingleConnectionPool.html">Sequel::SingleConnectionPool</a></li>
        
          <li><a href="../Sequel/Swift.html">Sequel::Swift</a></li>
        
          <li><a href="../Sequel/Swift/Database.html">Sequel::Swift::Database</a></li>
        
          <li><a href="../Sequel/Swift/Dataset.html">Sequel::Swift::Dataset</a></li>
        
          <li><a href="../Sequel/Swift/MySQL.html">Sequel::Swift::MySQL</a></li>
        
          <li><a href="../Sequel/Swift/MySQL/DatabaseMethods.html">Sequel::Swift::MySQL::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Swift/MySQL/Dataset.html">Sequel::Swift::MySQL::Dataset</a></li>
        
          <li><a href="../Sequel/Swift/Postgres.html">Sequel::Swift::Postgres</a></li>
        
          <li><a href="../Sequel/Swift/Postgres/DatabaseMethods.html">Sequel::Swift::Postgres::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Swift/SQLite.html">Sequel::Swift::SQLite</a></li>
        
          <li><a href="../Sequel/Swift/SQLite/DatabaseMethods.html">Sequel::Swift::SQLite::DatabaseMethods</a></li>
        
          <li><a href="../Sequel/Swift/SQLite/Dataset.html">Sequel::Swift::SQLite::Dataset</a></li>
        
          <li><a href="../Sequel/ThreadLocalTimezones.html">Sequel::ThreadLocalTimezones</a></li>
        
          <li><a href="../Sequel/ThreadedConnectionPool.html">Sequel::ThreadedConnectionPool</a></li>
        
          <li><a href="../Sequel/ThreadedServerBlock.html">Sequel::ThreadedServerBlock</a></li>
        
          <li><a href="../Sequel/TimestampMigrator.html">Sequel::TimestampMigrator</a></li>
        
          <li><a href="../Sequel/Timezones.html">Sequel::Timezones</a></li>
        
          <li><a href="../Sequel/TinyTDS.html">Sequel::TinyTDS</a></li>
        
          <li><a href="../Sequel/TinyTDS/Database.html">Sequel::TinyTDS::Database</a></li>
        
          <li><a href="../Sequel/TinyTDS/Dataset.html">Sequel::TinyTDS::Dataset</a></li>
        
          <li><a href="../Sequel/TinyTDS/Dataset/ArgumentMapper.html">Sequel::TinyTDS::Dataset::ArgumentMapper</a></li>
        
          <li><a href="../Sequel/TinyTDS/Dataset/PreparedStatementMethods.html">Sequel::TinyTDS::Dataset::PreparedStatementMethods</a></li>
        
          <li><a href="../Sequel/ToDot.html">Sequel::ToDot</a></li>
        
          <li><a href="../Sequel/UnbindDuplicate.html">Sequel::UnbindDuplicate</a></li>
        
          <li><a href="../Sequel/Unbinder.html">Sequel::Unbinder</a></li>
        
          <li><a href="../Sequel/UndefinedAssociation.html">Sequel::UndefinedAssociation</a></li>
        
          <li><a href="../Sequel/UnthreadedServerBlock.html">Sequel::UnthreadedServerBlock</a></li>
        
          <li><a href="../Sequel/ValidationFailed.html">Sequel::ValidationFailed</a></li>
        
          <li><a href="../String.html">String</a></li>
        
          <li><a href="../String/Inflections.html">String::Inflections</a></li>
        
          <li><a href="../Array.html">Array</a></li>
        
          <li><a href="../FalseClass.html">FalseClass</a></li>
        
          <li><a href="../Hash.html">Hash</a></li>
        
          <li><a href="../NilClass.html">NilClass</a></li>
        
          <li><a href="../Numeric.html">Numeric</a></li>
        
          <li><a href="../Object.html">Object</a></li>
        
          <li><a href="../PGconn.html">PGconn</a></li>
        
          <li><a href="../PGresult.html">PGresult</a></li>
        
          <li><a href="../Range.html">Range</a></li>
        
          <li><a href="../Symbol.html">Symbol</a></li>
        
          <li><a href="../TrueClass.html">TrueClass</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Sequel::Database</h1>

    <div id="description" class="description">
      
<p>A <a href="Database.html">Database</a> object represents a virtual
connection to a database. The <a href="Database.html">Database</a> class is
meant to be subclassed by database adapters in order to provide the
functionality needed for executing queries.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
    </div><!-- 5Buntitled-5D -->
  
    
    
    <div id="1+-+Methods+that+execute+queries+and-2For+return+results" class="documentation-section">
      
      <h2 class="section-header">
        1 - Methods that execute queries and/or return results
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>This methods generally execute <a href="SQL.html">SQL</a> code on the
database server.</p>

      </div>
      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="COLUMN_SCHEMA_DATETIME_TYPES">COLUMN_SCHEMA_DATETIME_TYPES</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="COLUMN_SCHEMA_STRING_TYPES">COLUMN_SCHEMA_STRING_TYPES</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="CURRENT_TIMESTAMP_RE">CURRENT_TIMESTAMP_RE</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_BEGIN">SQL_BEGIN</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_COMMIT">SQL_COMMIT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_RELEASE_SAVEPOINT">SQL_RELEASE_SAVEPOINT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_ROLLBACK">SQL_ROLLBACK</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_ROLLBACK_TO_SAVEPOINT">SQL_ROLLBACK_TO_SAVEPOINT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SQL_SAVEPOINT">SQL_SAVEPOINT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="STRING_DEFAULT_RE">STRING_DEFAULT_RE</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="TRANSACTION_BEGIN">TRANSACTION_BEGIN</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="TRANSACTION_COMMIT">TRANSACTION_COMMIT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="TRANSACTION_ISOLATION_LEVELS">TRANSACTION_ISOLATION_LEVELS</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="TRANSACTION_ROLLBACK">TRANSACTION_ROLLBACK</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="cache_schema-attribute-method" class="method-detail">
          <a name="cache_schema"></a>
          
          <a name="cache_schema="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">cache_schema</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Whether the schema should be cached for this database.  True by default for
performance, can be set to false to always issue a database query to get
the schema.</p>
          
          </div>
        </div>
        
        <div id="prepared_statements-attribute-method" class="method-detail">
          <a name="prepared_statements"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">prepared_statements</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The prepared statement object hash for this database, keyed by name symbol</p>
          
          </div>
        </div>
        
        <div id="transaction_isolation_level-attribute-method" class="method-detail">
          <a name="transaction_isolation_level"></a>
          
          <a name="transaction_isolation_level="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">transaction_isolation_level</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The default transaction isolation level for this database, used for all
future transactions.  For <a href="MSSQL.html">MSSQL</a>, this should be
set to something if you ever plan to use the :isolation option to <a
href="Database.html#method-i-transaction">Database#transaction</a>, as on
<a href="MSSQL.html">MSSQL</a> if affects all future transactions on the
same connection.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="3C-3C-method" class="method-detail ">
          <a name="method-i-3C-3C"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;&lt;</span><span
              class="method-args">(sql)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Runs the supplied <a href="SQL.html">SQL</a> statement string on the
database server. Returns self so it can be safely chained:</p>

<pre>DB &lt;&lt; &quot;UPDATE albums SET artist_id = NULL&quot; &lt;&lt; &quot;DROP TABLE artists&quot;</pre>
            

            
            <div class="method-source-code" id="3C-3C-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">run</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 3C-3C-source -->
            
          </div>

          

          
        </div><!-- 3C-3C-method -->

      
        <div id="call-method" class="method-detail ">
          <a name="method-i-call"></a>

          
          <div class="method-heading">
            <span class="method-name">call</span><span
              class="method-args">(ps_name, hash={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Call the prepared statement with the given name with the given hash of
arguments.</p>

<pre>DB[:items].filter(:id=&gt;1).prepare(:first, :sa)
DB.call(:sa) # SELECT * FROM items WHERE id = 1</pre>
            

            
            <div class="method-source-code" id="call-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">call</span>(<span class="ruby-identifier">ps_name</span>, <span class="ruby-identifier">hash</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">prepared_statement</span>(<span class="ruby-identifier">ps_name</span>).<span class="ruby-identifier">call</span>(<span class="ruby-identifier">hash</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- call-source -->
            
          </div>

          

          
        </div><!-- call-method -->

      
        <div id="execute-method" class="method-detail ">
          <a name="method-i-execute"></a>

          
          <div class="method-heading">
            <span class="method-name">execute</span><span
              class="method-args">(sql, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Executes the given <a href="SQL.html">SQL</a> on the database. This method
should be overridden in descendants. This method should not be called
directly by user code.</p>
            

            
            <div class="method-source-code" id="execute-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#execute should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- execute-source -->
            
          </div>

          

          
        </div><!-- execute-method -->

      
        <div id="execute_ddl-method" class="method-detail ">
          <a name="method-i-execute_ddl"></a>

          
          <div class="method-heading">
            <span class="method-name">execute_ddl</span><span
              class="method-args">(sql, opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Method that should be used when submitting any DDL (Data Definition
Language) <a href="SQL.html">SQL</a>, such as <tt>create_table</tt>.  By
default, calls <tt>execute_dui</tt>. This method should not be called
directly by user code.</p>
            

            
            <div class="method-source-code" id="execute_ddl-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">execute_dui</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- execute_ddl-source -->
            
          </div>

          

          
        </div><!-- execute_ddl-method -->

      
        <div id="execute_dui-method" class="method-detail ">
          <a name="method-i-execute_dui"></a>

          
          <div class="method-heading">
            <span class="method-name">execute_dui</span><span
              class="method-args">(sql, opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Method that should be used when issuing a DELETE, UPDATE, or INSERT
statement.  By default, calls execute. This method should not be called
directly by user code.</p>
            

            
            <div class="method-source-code" id="execute_dui-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute_dui</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- execute_dui-source -->
            
          </div>

          

          
        </div><!-- execute_dui-method -->

      
        <div id="execute_insert-method" class="method-detail ">
          <a name="method-i-execute_insert"></a>

          
          <div class="method-heading">
            <span class="method-name">execute_insert</span><span
              class="method-args">(sql, opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Method that should be used when issuing a INSERT statement.  By default,
calls execute_dui. This method should not be called directly by user code.</p>
            

            
            <div class="method-source-code" id="execute_insert-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute_insert</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">execute_dui</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- execute_insert-source -->
            
          </div>

          

          
        </div><!-- execute_insert-method -->

      
        <div id="foreign_key_list-method" class="method-detail ">
          <a name="method-i-foreign_key_list"></a>

          
          <div class="method-heading">
            <span class="method-name">foreign_key_list</span><span
              class="method-args">(table, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns an array of hashes containing foreign key information from the
table.  Each hash will contain at least the following fields:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:columns </p></td>
<td>
<p>An array of columns in the given table</p>
</td></tr><tr><td class="rdoc-term"><p>:table </p></td>
<td>
<p>The table referenced by the columns</p>
</td></tr><tr><td class="rdoc-term"><p>:key </p></td>
<td>
<p>An array of columns referenced (in the table specified by :table), but can
be nil on certain adapters if the primary key is referenced.</p>
</td></tr></table>

<p>The hash may also contain entries for:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:deferrable </p></td>
<td>
<p>Whether the constraint is deferrable</p>
</td></tr><tr><td class="rdoc-term"><p>:name </p></td>
<td>
<p>The name of the constraint</p>
</td></tr><tr><td class="rdoc-term"><p>:on_delete </p></td>
<td>
<p>The action to take ON DELETE</p>
</td></tr><tr><td class="rdoc-term"><p>:on_update </p></td>
<td>
<p>The action to take ON UPDATE</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="foreign_key_list-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">foreign_key_list</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#foreign_key_list should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- foreign_key_list-source -->
            
          </div>

          

          
        </div><!-- foreign_key_list-method -->

      
        <div id="get-method" class="method-detail ">
          <a name="method-i-get"></a>

          
          <div class="method-heading">
            <span class="method-name">get</span><span
              class="method-args">(*args, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a single value from the database, e.g.:</p>

<pre>DB.get(1) # SELECT 1
# =&gt; 1
DB.get{server_version{}} # SELECT server_version()</pre>
            

            
            <div class="method-source-code" id="get-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">get</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- get-source -->
            
          </div>

          

          
        </div><!-- get-method -->

      
        <div id="indexes-method" class="method-detail ">
          <a name="method-i-indexes"></a>

          
          <div class="method-heading">
            <span class="method-name">indexes</span><span
              class="method-args">(table, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a hash containing index information for the table. <a
href="../Hash.html">Hash</a> keys are index name symbols. Values are
subhashes with two keys, :columns and :unique.  The value of :columns is an
array of symbols of column names.  The value of :unique is true or false
depending on if the index is unique.</p>

<p>Should not include the primary key index, functional indexes, or partial
indexes.</p>

<pre>DB.indexes(:artists)
# =&gt; {:artists_name_ukey=&gt;{:columns=&gt;[:name], :unique=&gt;true}}</pre>
            

            
            <div class="method-source-code" id="indexes-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">indexes</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#indexes should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- indexes-source -->
            
          </div>

          

          
        </div><!-- indexes-method -->

      
        <div id="run-method" class="method-detail ">
          <a name="method-i-run"></a>

          
          <div class="method-heading">
            <span class="method-name">run</span><span
              class="method-args">(sql, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Runs the supplied <a href="SQL.html">SQL</a> statement string on the
database server. Returns nil. Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:server </p></td>
<td>
<p>The server to run the <a href="SQL.html">SQL</a> on.</p>
</td></tr></table>

<pre>DB.run(&quot;SET some_server_variable = 42&quot;)</pre>
            

            
            <div class="method-source-code" id="run-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- run-source -->
            
          </div>

          

          
        </div><!-- run-method -->

      
        <div id="schema-method" class="method-detail ">
          <a name="method-i-schema"></a>

          
          <div class="method-heading">
            <span class="method-name">schema</span><span
              class="method-args">(table, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the schema for the given table as an array with all members being
arrays of length 2, the first member being the column name, and the second
member being a hash of column information. The table argument can also be a
dataset, as long as it only has one table. Available options are:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:reload </p></td>
<td>
<p>Ignore any cached results, and get fresh information from the database.</p>
</td></tr><tr><td class="rdoc-term"><p>:schema </p></td>
<td>
<p>An explicit schema to use.  It may also be implicitly provided via the
table name.</p>
</td></tr></table>

<p>If schema parsing is supported by the database, the column information
should hash at least contain the following entries:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:allow_null </p></td>
<td>
<p>Whether <a href="Database.html#NULL">NULL</a> is an allowed value for the
column.</p>
</td></tr><tr><td class="rdoc-term"><p>:db_type </p></td>
<td>
<p>The database type for the column, as a database specific string.</p>
</td></tr><tr><td class="rdoc-term"><p>:default </p></td>
<td>
<p>The database default for the column, as a database specific string.</p>
</td></tr><tr><td class="rdoc-term"><p>:primary_key </p></td>
<td>
<p>Whether the columns is a primary key column.  If this column is not
present, it means that primary key information is unavailable, not that the
column is not a primary key.</p>
</td></tr><tr><td class="rdoc-term"><p>:ruby_default </p></td>
<td>
<p>The database default for the column, as a ruby object.  In many cases,
complex database defaults cannot be parsed into ruby objects, in which case
nil will be used as the value.</p>
</td></tr><tr><td class="rdoc-term"><p>:type </p></td>
<td>
<p>A symbol specifying the type, such as :integer or :string.</p>
</td></tr></table>

<p>Example:</p>

<pre>DB.schema(:artists)
# [[:id,
#   {:type=&gt;:integer,
#    :primary_key=&gt;true,
#    :default=&gt;&quot;nextval('artist_id_seq'::regclass)&quot;,
#    :ruby_default=&gt;nil,
#    :db_type=&gt;&quot;integer&quot;,
#    :allow_null=&gt;false}],
#  [:name,
#   {:type=&gt;:string,
#    :primary_key=&gt;false,
#    :default=&gt;nil,
#    :ruby_default=&gt;nil,
#    :db_type=&gt;&quot;text&quot;,
#    :allow_null=&gt;false}]]</pre>
            

            
            <div class="method-source-code" id="schema-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">schema</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">'schema parsing is not implemented on this database'</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:schema_parse_table</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">table</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>)
    <span class="ruby-identifier">o</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">opts</span>
    <span class="ruby-identifier">from</span> = <span class="ruby-identifier">o</span>[<span class="ruby-value">:from</span>]
    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;can only parse the schema for a dataset with a single from table&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">from</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">from</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">o</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:join</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">o</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:sql</span>)
    <span class="ruby-identifier">tab</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">first_source_table</span>
    <span class="ruby-identifier">sch</span>, <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">schema_and_table</span>(<span class="ruby-identifier">tab</span>)
    <span class="ruby-identifier">quoted_name</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">literal</span>(<span class="ruby-identifier">tab</span>)
    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:dataset</span>] = <span class="ruby-identifier">table</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sch</span>, <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">schema_and_table</span>(<span class="ruby-identifier">table</span>)
    <span class="ruby-identifier">quoted_name</span> = <span class="ruby-identifier">quote_schema_table</span>(<span class="ruby-identifier">table</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">opts</span>[<span class="ruby-value">:schema</span>] = <span class="ruby-identifier">sch</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sch</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:schema</span>)

  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-ivar">@schemas</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">quoted_name</span>)} <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:reload</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-ivar">@schemas</span>[<span class="ruby-identifier">quoted_name</span>]}
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">cols</span> = <span class="ruby-identifier">schema_parse_table</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">opts</span>)
  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">'schema parsing returned no columns, table probably doesn\t exist'</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">cols</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">cols</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">cols</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">_</span>,<span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">:ruby_default</span>] = <span class="ruby-identifier">column_schema_to_ruby_default</span>(<span class="ruby-identifier">c</span>[<span class="ruby-value">:default</span>], <span class="ruby-identifier">c</span>[<span class="ruby-value">:type</span>])}
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-ivar">@schemas</span>[<span class="ruby-identifier">quoted_name</span>] = <span class="ruby-identifier">cols</span>} <span class="ruby-keyword">if</span> <span class="ruby-identifier">cache_schema</span>
  <span class="ruby-identifier">cols</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- schema-source -->
            
          </div>

          

          
        </div><!-- schema-method -->

      
        <div id="table_exists-3F-method" class="method-detail ">
          <a name="method-i-table_exists-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">table_exists?</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if a table with the given name exists.  This requires a query
to the database.</p>

<pre>DB.table_exists?(:foo) # =&gt; false
# SELECT NULL FROM foo LIMIT 1</pre>

<p>Note that since this does a SELECT from the table, it can give false
negatives if you don't have permission to SELECT from the table.</p>
            

            
            <div class="method-source-code" id="table_exists-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">sch</span>, <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">schema_and_table</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">QualifiedIdentifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">sch</span>, <span class="ruby-identifier">table_name</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">sch</span>
  <span class="ruby-identifier">_table_exists?</span>(<span class="ruby-identifier">from</span>(<span class="ruby-identifier">name</span>))
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">DatabaseError</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- table_exists-3F-source -->
            
          </div>

          

          
        </div><!-- table_exists-3F-method -->

      
        <div id="tables-method" class="method-detail ">
          <a name="method-i-tables"></a>

          
          <div class="method-heading">
            <span class="method-name">tables</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return all tables in the database as an array of symbols.</p>

<pre>DB.tables # =&gt; [:albums, :artists]</pre>
            

            
            <div class="method-source-code" id="tables-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tables</span>(<span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#tables should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- tables-source -->
            
          </div>

          

          
        </div><!-- tables-method -->

      
        <div id="transaction-method" class="method-detail ">
          <a name="method-i-transaction"></a>

          
          <div class="method-heading">
            <span class="method-name">transaction</span><span
              class="method-args">(opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Starts a database transaction.  When a database transaction is used, either
all statements are successful or none of the statements are successful. 
Note that <a href="MySQL.html">MySQL</a> MyISAM tabels do not support
transactions.</p>

<p>The following general options are respected:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:disconnect </p></td>
<td>
<p>Can be set to :retry to automatically retry the transaction with a new
connection object if it detects a disconnect on the connection. Note that
this should not be used unless the entire transaction block is idempotent,
as otherwise it can cause non-idempotent behavior to execute multiple
times.  This does no checking for infinite loops, so if your transaction
will repeatedly raise a disconnection error, this will cause the
transaction block to loop indefinitely.</p>
</td></tr><tr><td class="rdoc-term"><p>:isolation </p></td>
<td>
<p>The transaction isolation level to use for this transaction, should be
:uncommitted, :committed, :repeatable, or :serializable, used if given and
the database/adapter supports customizable transaction isolation levels.</p>
</td></tr><tr><td class="rdoc-term"><p>:prepare </p></td>
<td>
<p>A string to use as the transaction identifier for a prepared transaction
(two-phase commit), if the database/adapter supports prepared transactions.</p>
</td></tr><tr><td class="rdoc-term"><p>:rollback </p></td>
<td>
<p>Can the set to :reraise to reraise any <a
href="Rollback.html">Sequel::Rollback</a> exceptions raised, or :always to
always rollback even if no exceptions occur (useful for testing).</p>
</td></tr><tr><td class="rdoc-term"><p>:server </p></td>
<td>
<p>The server to use for the transaction.</p>
</td></tr><tr><td class="rdoc-term"><p>:savepoint </p></td>
<td>
<p>Whether to create a new savepoint for this transaction, only respected if
the database/adapter supports savepoints.  By default <a
href="../Sequel.html">Sequel</a> will reuse an existing transaction, so if
you want to use a savepoint you must use this option.</p>
</td></tr></table>

<p>PostgreSQL specific options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:deferrable </p></td>
<td>
<p>(9.1+) If present, set to DEFERRABLE if true or NOT DEFERRABLE if false.</p>
</td></tr><tr><td class="rdoc-term"><p>:read_only </p></td>
<td>
<p>If present, set to READ ONLY if true or READ WRITE if false.</p>
</td></tr><tr><td class="rdoc-term"><p>:synchronous </p></td>
<td>
<p>if non-nil, set synchronous_commit appropriately.  Valid values true, :on,
false, :off, :local (9.1+), and :remote_write (9.2+).</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="transaction-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">transaction</span>(<span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:disconnect</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:retry</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">transaction</span>(<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:disconnect=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:disallow</span>), &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseDisconnectError</span>
      <span class="ruby-keyword">retry</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:server</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">already_in_transaction?</span>(<span class="ruby-identifier">conn</span>, <span class="ruby-identifier">opts</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:disconnect</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:disallow</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;cannot set :disconnect=&gt;:retry if you are already inside a transaction&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">conn</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">_transaction</span>(<span class="ruby-identifier">conn</span>, <span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- transaction-source -->
            
          </div>

          

          
        </div><!-- transaction-method -->

      
        <div id="views-method" class="method-detail ">
          <a name="method-i-views"></a>

          
          <div class="method-heading">
            <span class="method-name">views</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return all views in the database as an array of symbols.</p>

<pre>DB.views # =&gt; [:gold_albums, :artists_with_many_albums]</pre>
            

            
            <div class="method-source-code" id="views-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/query.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">views</span>(<span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#views should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- views-source -->
            
          </div>

          

          
        </div><!-- views-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 1+-+Methods+that+execute+queries+and-2For+return+results -->
  
    
    
    <div id="2+-+Methods+that+modify+the+database+schema" class="documentation-section">
      
      <h2 class="section-header">
        2 - Methods that modify the database schema
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>These methods execute code on the database that modifies the database's
schema.</p>

      </div>
      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="AUTOINCREMENT">AUTOINCREMENT</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="COLUMN_DEFINITION_ORDER">COLUMN_DEFINITION_ORDER</a></dt>
          
          <dd class="description"><p>The order of column modifiers to use when defining a column.</p></dd>
          
        
          <dt><a name="COMBINABLE_ALTER_TABLE_OPS">COMBINABLE_ALTER_TABLE_OPS</a></dt>
          
          <dd class="description"><p>The alter table operations that are combinable.</p></dd>
          
        
          <dt><a name="COMMA_SEPARATOR">COMMA_SEPARATOR</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="DEFAULT_JOIN_TABLE_COLUMN_OPTIONS">DEFAULT_JOIN_TABLE_COLUMN_OPTIONS</a></dt>
          
          <dd class="description"><p>The default options for join table columns.</p></dd>
          
        
          <dt><a name="NOT_NULL">NOT_NULL</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="NULL">NULL</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="PRIMARY_KEY">PRIMARY_KEY</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="TEMPORARY">TEMPORARY</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="UNDERSCORE">UNDERSCORE</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="UNIQUE">UNIQUE</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="UNSIGNED">UNSIGNED</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="add_column-method" class="method-detail ">
          <a name="method-i-add_column"></a>

          
          <div class="method-heading">
            <span class="method-name">add_column</span><span
              class="method-args">(table, *args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Adds a column to the specified table. This method expects a column name, a
datatype and optionally a hash with additional constraints and options:</p>

<pre>DB.add_column :items, :name, :text, :unique =&gt; true, :null =&gt; false
DB.add_column :items, :category, :text, :default =&gt; 'ruby'</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="add_column-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_column</span>(<span class="ruby-identifier">table</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>) {<span class="ruby-identifier">add_column</span>(*<span class="ruby-identifier">args</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_column-source -->
            
          </div>

          

          
        </div><!-- add_column-method -->

      
        <div id="add_index-method" class="method-detail ">
          <a name="method-i-add_index"></a>

          
          <div class="method-heading">
            <span class="method-name">add_index</span><span
              class="method-args">(table, columns, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Adds an index to a table for the given columns:</p>

<pre>DB.add_index :posts, :title
DB.add_index :posts, [:author, :title], :unique =&gt; true</pre>

<p>Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:ignore_errors </p></td>
<td>
<p>Ignore any DatabaseErrors that are raised</p>
</td></tr></table>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="add_index-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_index</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">columns</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:ignore_errors</span>]
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>){<span class="ruby-identifier">add_index</span>(<span class="ruby-identifier">columns</span>, <span class="ruby-identifier">options</span>)}
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">DatabaseError</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_index-source -->
            
          </div>

          

          
        </div><!-- add_index-method -->

      
        <div id="alter_table-method" class="method-detail ">
          <a name="method-i-alter_table"></a>

          
          <div class="method-heading">
            <span class="method-name">alter_table</span><span
              class="method-args">(name, generator=nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Alters the given table with the specified block. Example:</p>

<pre>DB.alter_table :items do
  add_column :category, :text, :default =&gt; 'ruby'
  drop_column :category
  rename_column :cntr, :counter
  set_column_type :value, :float
  set_column_default :value, :float
  add_index [:group, :category]
  drop_index [:group, :category]
end</pre>

<p>Note that <tt>add_column</tt> accepts all the options available for column
definitions using <tt>create_table</tt>, and <tt>add_index</tt> accepts all
the options available for index definition.</p>

<p>See <tt>Schema::AlterTableGenerator</tt> and the <a
href="../files/doc/migration_rdoc.html">"Migrations and Schema
Modification" guide</a>.</p>
            

            
            <div class="method-source-code" id="alter_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">generator</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">generator</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">alter_table_generator</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">apply_alter_table_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">generator</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- alter_table-source -->
            
          </div>

          

          
        </div><!-- alter_table-method -->

      
        <div id="alter_table_generator-method" class="method-detail ">
          <a name="method-i-alter_table_generator"></a>

          
          <div class="method-heading">
            <span class="method-name">alter_table_generator</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a new <a
href="Schema/AlterTableGenerator.html">Schema::AlterTableGenerator</a>
instance with the receiver as the database and the given block.</p>
            

            
            <div class="method-source-code" id="alter_table_generator-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">alter_table_generator</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">alter_table_generator_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- alter_table_generator-source -->
            
          </div>

          

          
        </div><!-- alter_table_generator-method -->

      
        <div id="create_join_table-method" class="method-detail ">
          <a name="method-i-create_join_table"></a>

          
          <div class="method-heading">
            <span class="method-name">create_join_table</span><span
              class="method-args">(hash, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a join table using a hash of foreign keys to referenced table names.
Example:</p>

<pre>create_join_table(:cat_id=&gt;:cats, :dog_id=&gt;:dogs)
# CREATE TABLE cats_dogs (
#  cat_id integer NOT NULL REFERENCES cats,
#  dog_id integer NOT NULL REFERENCES dogs,
#  PRIMARY KEY (cat_id, dog_id)
# )
# CREATE INDEX cats_dogs_dog_id_cat_id_index ON cats_dogs(dog_id, cat_id)</pre>

<p>The primary key and index are used so that almost all operations on the
table can benefit from one of the two indexes, and the primary key ensures
that entries in the table are unique, which is the typical desire for a
join table.</p>

<p>You can provide column options by making the values in the hash be option
hashes, so long as the option hashes have a :table entry giving the table
referenced:</p>

<pre>create_join_table(:cat_id=&gt;{:table=&gt;:cats, :type=&gt;Bignum}, :dog_id=&gt;:dogs)</pre>

<p>You can provide a second argument which is a table options hash:</p>

<pre>create_join_table({:cat_id=&gt;:cats, :dog_id=&gt;:dogs}, :temp=&gt;true)</pre>

<p>Some table options are handled specially:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:index_options </p></td>
<td>
<p>The options to pass to the index</p>
</td></tr><tr><td class="rdoc-term"><p>:name </p></td>
<td>
<p>The name of the table to create</p>
</td></tr><tr><td class="rdoc-term"><p>:no_index </p></td>
<td>
<p>Set to true not to create the second index.</p>
</td></tr><tr><td class="rdoc-term"><p>:no_primary_key </p></td>
<td>
<p>Set to true to not create the primary key.</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="create_join_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_join_table</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>}
  <span class="ruby-identifier">create_table</span>(<span class="ruby-identifier">join_table_name</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">options</span>), <span class="ruby-identifier">options</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">v</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>]
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
        <span class="ruby-identifier">v</span> = {<span class="ruby-value">:table=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">v</span>}
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">v</span> = <span class="ruby-constant">DEFAULT_JOIN_TABLE_COLUMN_OPTIONS</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">v</span>)
      <span class="ruby-identifier">foreign_key</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">v</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">primary_key</span>(<span class="ruby-identifier">keys</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:no_primary_key</span>]
    <span class="ruby-identifier">index</span>(<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">reverse</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:index_options</span>] <span class="ruby-operator">||</span> {}) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:no_index</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_join_table-source -->
            
          </div>

          

          
        </div><!-- create_join_table-method -->

      
        <div id="create_or_replace_view-method" class="method-detail ">
          <a name="method-i-create_or_replace_view"></a>

          
          <div class="method-heading">
            <span class="method-name">create_or_replace_view</span><span
              class="method-args">(name, source)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates a view, replacing it if it already exists:</p>

<pre>DB.create_or_replace_view(:cheap_items, &quot;SELECT * FROM items WHERE price &lt; 100&quot;)
DB.create_or_replace_view(:ruby_items, DB[:items].filter(:category =&gt; 'ruby'))</pre>
            

            
            <div class="method-source-code" id="create_or_replace_view-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_or_replace_view</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">source</span>)
  <span class="ruby-identifier">source</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">sql</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>)
  <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-node">&quot;CREATE OR REPLACE VIEW #{quote_schema_table(name)} AS #{source}&quot;</span>)
  <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_or_replace_view-source -->
            
          </div>

          

          
        </div><!-- create_or_replace_view-method -->

      
        <div id="create_table-method" class="method-detail ">
          <a name="method-i-create_table"></a>

          
          <div class="method-heading">
            <span class="method-name">create_table</span><span
              class="method-args">(name, options={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates a table with the columns given in the provided block:</p>

<pre>DB.create_table :posts do
  primary_key :id
  column :title, :text
  String :content
  index :title
end</pre>

<p>General options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:as </p></td>
<td>
<p>Create the table using the value, which should be either a dataset or a
literal <a href="SQL.html">SQL</a> string.  If this option is used, a block
should not be given to the method.</p>
</td></tr><tr><td class="rdoc-term"><p>:ignore_index_errors </p></td>
<td>
<p>Ignore any errors when creating indexes.</p>
</td></tr><tr><td class="rdoc-term"><p>:temp </p></td>
<td>
<p>Create the table as a temporary table.</p>
</td></tr></table>

<p><a href="MySQL.html">MySQL</a> specific options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:charset </p></td>
<td>
<p>The character set to use for the table.</p>
</td></tr><tr><td class="rdoc-term"><p>:collate </p></td>
<td>
<p>The collation to use for the table.</p>
</td></tr><tr><td class="rdoc-term"><p>:engine </p></td>
<td>
<p>The table engine to use for the table.</p>
</td></tr></table>

<p>PostgreSQL specific options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:unlogged </p></td>
<td>
<p>Create the table as an unlogged table.</p>
</td></tr></table>

<p>See <tt>Schema::Generator</tt> and the <a
href="../files/doc/schema_modification_rdoc.html">"Schema Modification"
guide</a>.</p>
            

            
            <div class="method-source-code" id="create_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">options</span> = {<span class="ruby-value">:generator=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">options</span>} <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Schema</span><span class="ruby-operator">::</span><span class="ruby-constant">CreateTableGenerator</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:as</span>]
    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;can't provide both :as option and block to create_table&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">create_table_as</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">sql</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">generator</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:generator</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">create_table_generator</span>(&amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">create_table_from_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">generator</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">create_table_indexes_from_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">generator</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_table-source -->
            
          </div>

          

          
        </div><!-- create_table-method -->

      
        <div id="create_table-21-method" class="method-detail ">
          <a name="method-i-create_table-21"></a>

          
          <div class="method-heading">
            <span class="method-name">create_table!</span><span
              class="method-args">(name, options={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Forcibly create a table, attempting to drop it if it already exists, then
creating it.</p>

<pre>DB.create_table!(:a){Integer :a} 
# SELECT NULL FROM a LIMIT 1 -- check existence
# DROP TABLE a -- drop table if already exists
# CREATE TABLE a (a integer)</pre>
            

            
            <div class="method-source-code" id="create_table-21-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_table!</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">drop_table?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">create_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_table-21-source -->
            
          </div>

          

          
        </div><!-- create_table-21-method -->

      
        <div id="create_table-3F-method" class="method-detail ">
          <a name="method-i-create_table-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">create_table?</span><span
              class="method-args">(name, options={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates the table unless the table already exists.</p>

<pre>DB.create_table?(:a){Integer :a} 
# SELECT NULL FROM a LIMIT 1 -- check existence
# CREATE TABLE a (a integer) -- if it doesn't already exist</pre>
            

            
            <div class="method-source-code" id="create_table-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 191</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_table?</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">supports_create_table_if_not_exists?</span>
    <span class="ruby-identifier">create_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:if_not_exists=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>), &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">create_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_table-3F-source -->
            
          </div>

          

          
        </div><!-- create_table-3F-method -->

      
        <div id="create_table_generator-method" class="method-detail ">
          <a name="method-i-create_table_generator"></a>

          
          <div class="method-heading">
            <span class="method-name">create_table_generator</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a new <a
href="Schema/CreateTableGenerator.html">Schema::CreateTableGenerator</a>
instance with the receiver as the database and the given block.</p>
            

            
            <div class="method-source-code" id="create_table_generator-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_table_generator</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">create_table_generator_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_table_generator-source -->
            
          </div>

          

          
        </div><!-- create_table_generator-method -->

      
        <div id="create_view-method" class="method-detail ">
          <a name="method-i-create_view"></a>

          
          <div class="method-heading">
            <span class="method-name">create_view</span><span
              class="method-args">(name, source)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates a view based on a dataset or an <a href="SQL.html">SQL</a> string:</p>

<pre>DB.create_view(:cheap_items, &quot;SELECT * FROM items WHERE price &lt; 100&quot;)
DB.create_view(:ruby_items, DB[:items].filter(:category =&gt; 'ruby'))</pre>
            

            
            <div class="method-source-code" id="create_view-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_view</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">source</span>)
  <span class="ruby-identifier">source</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">sql</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Dataset</span>)
  <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-node">&quot;CREATE VIEW #{quote_schema_table(name)} AS #{source}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_view-source -->
            
          </div>

          

          
        </div><!-- create_view-method -->

      
        <div id="drop_column-method" class="method-detail ">
          <a name="method-i-drop_column"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_column</span><span
              class="method-args">(table, *args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Removes a column from the specified table:</p>

<pre>DB.drop_column :items, :category</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="drop_column-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_column</span>(<span class="ruby-identifier">table</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>) {<span class="ruby-identifier">drop_column</span>(*<span class="ruby-identifier">args</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_column-source -->
            
          </div>

          

          
        </div><!-- drop_column-method -->

      
        <div id="drop_index-method" class="method-detail ">
          <a name="method-i-drop_index"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_index</span><span
              class="method-args">(table, columns, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Removes an index for the given table and column/s:</p>

<pre>DB.drop_index :posts, :title
DB.drop_index :posts, [:author, :title]</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="drop_index-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_index</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">columns</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>){<span class="ruby-identifier">drop_index</span>(<span class="ruby-identifier">columns</span>, <span class="ruby-identifier">options</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_index-source -->
            
          </div>

          

          
        </div><!-- drop_index-method -->

      
        <div id="drop_join_table-method" class="method-detail ">
          <a name="method-i-drop_join_table"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_join_table</span><span
              class="method-args">(hash, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drop the join table that would have been created with the same arguments to
<a href="Database.html#method-i-create_join_table">create_join_table</a>:</p>

<pre>drop_join_table(:cat_id=&gt;:cats, :dog_id=&gt;:dogs)
# DROP TABLE cats_dogs</pre>
            

            
            <div class="method-source-code" id="drop_join_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_join_table</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">drop_table</span>(<span class="ruby-identifier">join_table_name</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">options</span>), <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_join_table-source -->
            
          </div>

          

          
        </div><!-- drop_join_table-method -->

      
        <div id="drop_table-method" class="method-detail ">
          <a name="method-i-drop_table"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_table</span><span
              class="method-args">(*names)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drops one or more tables corresponding to the given names:</p>

<pre>DB.drop_table(:posts) # DROP TABLE posts
DB.drop_table(:posts, :comments)
DB.drop_table(:posts, :comments, :cascade=&gt;true)</pre>
            

            
            <div class="method-source-code" id="drop_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_table</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-identifier">drop_table_sql</span>(<span class="ruby-identifier">n</span>, <span class="ruby-identifier">options</span>))
    <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_table-source -->
            
          </div>

          

          
        </div><!-- drop_table-method -->

      
        <div id="drop_table-3F-method" class="method-detail ">
          <a name="method-i-drop_table-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_table?</span><span
              class="method-args">(*names)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drops the table if it already exists.  If it doesn't exist, does nothing.</p>

<pre>DB.drop_table?(:a)
# SELECT NULL FROM a LIMIT 1 -- check existence
# DROP TABLE a -- if it already exists</pre>
            

            
            <div class="method-source-code" id="drop_table-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_table?</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">supports_drop_table_if_exists?</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:if_exists=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">drop_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">drop_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_table-3F-source -->
            
          </div>

          

          
        </div><!-- drop_table-3F-method -->

      
        <div id="drop_view-method" class="method-detail ">
          <a name="method-i-drop_view"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_view</span><span
              class="method-args">(*names)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drops one or more views corresponding to the given names:</p>

<pre>DB.drop_view(:cheap_items)
DB.drop_view(:cheap_items, :pricey_items)
DB.drop_view(:cheap_items, :pricey_items, :cascade=&gt;true)</pre>
            

            
            <div class="method-source-code" id="drop_view-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_view</span>(*<span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-identifier">drop_view_sql</span>(<span class="ruby-identifier">n</span>, <span class="ruby-identifier">options</span>))
    <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- drop_view-source -->
            
          </div>

          

          
        </div><!-- drop_view-method -->

      
        <div id="dump_foreign_key_migration-method" class="method-detail ">
          <a name="method-i-dump_foreign_key_migration"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_foreign_key_migration</span><span
              class="method-args">(options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dump foreign key constraints for all tables as a migration. This
complements the :foreign_keys=&gt;false option to dump_schema_migration.
This only dumps the constraints (not the columns) using
alter_table/add_foreign_key with an array of columns.</p>

<p>Note that the migration this produces does not have a down block, so you
cannot reverse it.</p>
            

            
            <div class="method-source-code" id="dump_foreign_key_migration-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_dumper.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_foreign_key_migration</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">ts</span> = <span class="ruby-identifier">tables</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-string">Sequel.migration do  change do#{ts.sort_by{|t| t.to_s}.map{|t| dump_table_foreign_keys(t)}.reject{|x| x == ''}.join(&quot;\n\n&quot;).gsub(/^/o, '    ')}  endend</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_foreign_key_migration-source -->
            
          </div>

          

          
        </div><!-- dump_foreign_key_migration-method -->

      
        <div id="dump_indexes_migration-method" class="method-detail ">
          <a name="method-i-dump_indexes_migration"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_indexes_migration</span><span
              class="method-args">(options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dump indexes for all tables as a migration.  This complements the
:indexes=&gt;false option to dump_schema_migration. Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:same_db </p></td>
<td>
<p>Create a dump for the same database type, so don't ignore errors if the
index statements fail.</p>
</td></tr><tr><td class="rdoc-term"><p>:index_names </p></td>
<td>
<p>If set to false, don't record names of indexes. If set to :namespace,
prepend the table name to the index name if the database does not use a
global index namespace.</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="dump_indexes_migration-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_dumper.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_indexes_migration</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">ts</span> = <span class="ruby-identifier">tables</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-string">Sequel.migration do  change do#{ts.sort_by{|t| t.to_s}.map{|t| dump_table_indexes(t, :add_index, options)}.reject{|x| x == ''}.join(&quot;\n\n&quot;).gsub(/^/o, '    ')}  endend</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_indexes_migration-source -->
            
          </div>

          

          
        </div><!-- dump_indexes_migration-method -->

      
        <div id="dump_schema_cache-method" class="method-detail ">
          <a name="method-i-dump_schema_cache"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_schema_cache</span><span
              class="method-args">(file)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dump the cached schema to the filename given in Marshal format.</p>
            

            
            <div class="method-source-code" id="dump_schema_cache-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_caching.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_schema_cache</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">file</span>, <span class="ruby-string">'wb'</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span>(<span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-ivar">@schemas</span>))}
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_schema_cache-source -->
            
          </div>

          

          
        </div><!-- dump_schema_cache-method -->

      
        <div id="dump_schema_cache-3F-method" class="method-detail ">
          <a name="method-i-dump_schema_cache-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_schema_cache?</span><span
              class="method-args">(file)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dump the cached schema to the filename given unless the file already
exists.</p>
            

            
            <div class="method-source-code" id="dump_schema_cache-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_caching.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_schema_cache?</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">dump_schema_cache</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_schema_cache-3F-source -->
            
          </div>

          

          
        </div><!-- dump_schema_cache-3F-method -->

      
        <div id="dump_schema_migration-method" class="method-detail ">
          <a name="method-i-dump_schema_migration"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_schema_migration</span><span
              class="method-args">(options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a string that contains a <a
href="Migration.html">Sequel::Migration</a> subclass that when run would
recreate the database structure. Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:same_db </p></td>
<td>
<p>Don't attempt to translate database types to ruby types. If this isn't set
to true, all database types will be translated to ruby types, but there is
no guarantee that the migration generated will yield the same type. 
Without this set, types that aren't recognized will be translated to a
string-like type.</p>
</td></tr><tr><td class="rdoc-term"><p>:foreign_keys </p></td>
<td>
<p>If set to false, don't dump foreign_keys (they can be</p>
</td></tr></table>

<pre>added later via #dump_foreign_key_migration)</pre>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:indexes </p></td>
<td>
<p>If set to false, don't dump indexes (they can be added later via
dump_index_migration).</p>
</td></tr><tr><td class="rdoc-term"><p>:index_names </p></td>
<td>
<p>If set to false, don't record names of indexes. If set to :namespace,
prepend the table name to the index name.</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="dump_schema_migration-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_dumper.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_schema_migration</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:indexes</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:foreign_keys</span>)
    <span class="ruby-comment"># Unless foreign_keys option is specifically set, disable if indexes</span>
    <span class="ruby-comment"># are disabled, as foreign keys that point to non-primary keys rely</span>
    <span class="ruby-comment"># on unique indexes being created first</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:foreign_keys</span>] = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">ts</span> = <span class="ruby-identifier">sort_dumped_tables</span>(<span class="ruby-identifier">tables</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">skipped_fks</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">sfk</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:skipped_foreign_keys</span>]
    <span class="ruby-comment"># Handle skipped foreign keys by adding them at the end via</span>
    <span class="ruby-comment"># alter_table/add_foreign_key.  Note that skipped foreign keys</span>
    <span class="ruby-comment"># probably result in a broken down migration.</span>
    <span class="ruby-identifier">sfka</span> = <span class="ruby-identifier">sfk</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">table</span>, <span class="ruby-identifier">fks</span><span class="ruby-operator">|</span> <span class="ruby-identifier">table</span>.<span class="ruby-identifier">to_s</span>}.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">table</span>, <span class="ruby-identifier">fks</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dump_add_fk_constraints</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">fks</span>.<span class="ruby-identifier">values</span>)}
    <span class="ruby-identifier">sfka</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/^/</span>, <span class="ruby-string">'    '</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sfka</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-string">Sequel.migration do  change do#{ts.map{|t| dump_table_schema(t, options)}.join(&quot;\n\n&quot;).gsub(/^/o, '    ')}#{&quot;\n    \n&quot; if skipped_fks}#{skipped_fks}  endend</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_schema_migration-source -->
            
          </div>

          

          
        </div><!-- dump_schema_migration-method -->

      
        <div id="dump_table_schema-method" class="method-detail ">
          <a name="method-i-dump_table_schema"></a>

          
          <div class="method-heading">
            <span class="method-name">dump_table_schema</span><span
              class="method-args">(table, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a string with a create table block that will recreate the given
table's schema.  Takes the same options as dump_schema_migration.</p>
            

            
            <div class="method-source-code" id="dump_table_schema-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_dumper.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dump_table_schema</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">table</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">table</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Identifier</span>)
  <span class="ruby-identifier">gen</span> = <span class="ruby-identifier">dump_table_generator</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">commands</span> = [<span class="ruby-identifier">gen</span>.<span class="ruby-identifier">dump_columns</span>, <span class="ruby-identifier">gen</span>.<span class="ruby-identifier">dump_constraints</span>, <span class="ruby-identifier">gen</span>.<span class="ruby-identifier">dump_indexes</span>].<span class="ruby-identifier">reject</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-string">''</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n\n&quot;</span>)
  <span class="ruby-node">&quot;create_table(#{table.inspect}#{', :ignore_index_errors=&gt;true' if !options[:same_db] &amp;&amp; options[:indexes] != false &amp;&amp; !gen.indexes.empty?}) do\n#{commands.gsub(/^/o, '  ')}\nend&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dump_table_schema-source -->
            
          </div>

          

          
        </div><!-- dump_table_schema-method -->

      
        <div id="load_schema_cache-method" class="method-detail ">
          <a name="method-i-load_schema_cache"></a>

          
          <div class="method-heading">
            <span class="method-name">load_schema_cache</span><span
              class="method-args">(file)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Replace the schema cache with the data from the given file, which should be
in Marshal format.</p>
            

            
            <div class="method-source-code" id="load_schema_cache-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_caching.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_schema_cache</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-ivar">@schemas</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>))
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- load_schema_cache-source -->
            
          </div>

          

          
        </div><!-- load_schema_cache-method -->

      
        <div id="load_schema_cache-3F-method" class="method-detail ">
          <a name="method-i-load_schema_cache-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">load_schema_cache?</span><span
              class="method-args">(file)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Replace the schema cache with the data from the given file if the file
exists.</p>
            

            
            <div class="method-source-code" id="load_schema_cache-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/schema_caching.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_schema_cache?</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">load_schema_cache</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- load_schema_cache-3F-source -->
            
          </div>

          

          
        </div><!-- load_schema_cache-3F-method -->

      
        <div id="query-method" class="method-detail ">
          <a name="method-i-query"></a>

          
          <div class="method-heading">
            <span class="method-name">query</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a dataset modified by the query block</p>
            

            
            <div class="method-source-code" id="query-source">
<pre>
<span class="ruby-comment"># File lib/sequel/extensions/query.rb, line 12</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">query</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- query-source -->
            
          </div>

          

          
        </div><!-- query-method -->

      
        <div id="rename_column-method" class="method-detail ">
          <a name="method-i-rename_column"></a>

          
          <div class="method-heading">
            <span class="method-name">rename_column</span><span
              class="method-args">(table, *args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Renames a column in the specified table. This method expects the current
column name and the new column name:</p>

<pre>DB.rename_column :items, :cntr, :counter</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="rename_column-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 318</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rename_column</span>(<span class="ruby-identifier">table</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>) {<span class="ruby-identifier">rename_column</span>(*<span class="ruby-identifier">args</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- rename_column-source -->
            
          </div>

          

          
        </div><!-- rename_column-method -->

      
        <div id="rename_table-method" class="method-detail ">
          <a name="method-i-rename_table"></a>

          
          <div class="method-heading">
            <span class="method-name">rename_table</span><span
              class="method-args">(name, new_name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Renames a table:</p>

<pre>DB.tables #=&gt; [:items]
DB.rename_table :items, :old_items
DB.tables #=&gt; [:old_items]</pre>
            

            
            <div class="method-source-code" id="rename_table-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 306</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rename_table</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>)
  <span class="ruby-identifier">execute_ddl</span>(<span class="ruby-identifier">rename_table_sql</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>))
  <span class="ruby-identifier">remove_cached_schema</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- rename_table-source -->
            
          </div>

          

          
        </div><!-- rename_table-method -->

      
        <div id="set_column_default-method" class="method-detail ">
          <a name="method-i-set_column_default"></a>

          
          <div class="method-heading">
            <span class="method-name">set_column_default</span><span
              class="method-args">(table, *args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets the default value for the given column in the given table:</p>

<pre>DB.set_column_default :items, :category, 'perl!'</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="set_column_default-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_column_default</span>(<span class="ruby-identifier">table</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>) {<span class="ruby-identifier">set_column_default</span>(*<span class="ruby-identifier">args</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- set_column_default-source -->
            
          </div>

          

          
        </div><!-- set_column_default-method -->

      
        <div id="set_column_type-method" class="method-detail ">
          <a name="method-i-set_column_type"></a>

          
          <div class="method-heading">
            <span class="method-name">set_column_type</span><span
              class="method-args">(table, *args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the data type for the given column in the given table:</p>

<pre>DB.set_column_type :items, :price, :float</pre>

<p>See <tt>alter_table</tt>.</p>
            

            
            <div class="method-source-code" id="set_column_type-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/schema_methods.rb, line 336</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_column_type</span>(<span class="ruby-identifier">table</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">alter_table</span>(<span class="ruby-identifier">table</span>) {<span class="ruby-identifier">set_column_type</span>(*<span class="ruby-identifier">args</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- set_column_type-source -->
            
          </div>

          

          
        </div><!-- set_column_type-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 2+-+Methods+that+modify+the+database+schema -->
  
    
    
    <div id="3+-+Methods+that+create+datasets" class="documentation-section">
      
      <h2 class="section-header">
        3 - Methods that create datasets
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>These methods all return instances of this database's dataset class.</p>

      </div>
      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-i-5B-5D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a dataset for the database. If the first argument is a string, the
method acts as an alias for <a
href="Database.html#method-i-fetch">Database#fetch</a>, returning a dataset
for arbitrary <a href="SQL.html">SQL</a>, with or without placeholders:</p>

<pre>DB['SELECT * FROM items'].all
DB['SELECT * FROM items WHERE name = ?', my_name].all</pre>

<p>Otherwise, acts as an alias for <a
href="Database.html#method-i-from">Database#from</a>, setting the primary
table for the dataset:</p>

<pre>DB[:items].sql #=&gt; &quot;SELECT * FROM items&quot;</pre>
            

            
            <div class="method-source-code" id="5B-5D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(*<span class="ruby-identifier">args</span>)
  (<span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">fetch</span>(*<span class="ruby-identifier">args</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">from</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->

      
        <div id="dataset-method" class="method-detail ">
          <a name="method-i-dataset"></a>

          
          <div class="method-heading">
            <span class="method-name">dataset</span><span
              class="method-args">(opts=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a blank dataset for this database.</p>

<pre>DB.dataset # SELECT *
DB.dataset.from(:items) # SELECT * FROM items</pre>
            

            
            <div class="method-source-code" id="dataset-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dataset</span>(<span class="ruby-identifier">opts</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@dataset_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">opts</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- dataset-source -->
            
          </div>

          

          
        </div><!-- dataset-method -->

      
        <div id="fetch-method" class="method-detail ">
          <a name="method-i-fetch"></a>

          
          <div class="method-heading">
            <span class="method-name">fetch</span><span
              class="method-args">(sql, *args, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fetches records for an arbitrary <a href="SQL.html">SQL</a> statement. If a
block is given, it is used to iterate over the records:</p>

<pre>DB.fetch('SELECT * FROM items'){|r| p r}</pre>

<p>The <tt>fetch</tt> method returns a dataset instance:</p>

<pre>DB.fetch('SELECT * FROM items').all</pre>

<p><tt>fetch</tt> can also perform parameterized queries for protection
against <a href="SQL.html">SQL</a> injection:</p>

<pre>DB.fetch('SELECT * FROM items WHERE name = ?', my_name).all</pre>
            

            
            <div class="method-source-code" id="fetch-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">sql</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">with_sql</span>(<span class="ruby-identifier">sql</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
  <span class="ruby-identifier">ds</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- fetch-source -->
            
          </div>

          

          
        </div><!-- fetch-method -->

      
        <div id="from-method" class="method-detail ">
          <a name="method-i-from"></a>

          
          <div class="method-heading">
            <span class="method-name">from</span><span
              class="method-args">(*args, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a new dataset with the <tt>from</tt> method invoked. If a block is
given, it is used as a filter on the dataset.</p>

<pre>DB.from(:items) # SELECT * FROM items
DB.from(:items){id &gt; 2} # SELECT * FROM items WHERE (id &gt; 2)</pre>
            

            
            <div class="method-source-code" id="from-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">from</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">from</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">block</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">filter</span>(&amp;<span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ds</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- from-source -->
            
          </div>

          

          
        </div><!-- from-method -->

      
        <div id="select-method" class="method-detail ">
          <a name="method-i-select"></a>

          
          <div class="method-heading">
            <span class="method-name">select</span><span
              class="method-args">(*args, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a new dataset with the select method invoked.</p>

<pre>DB.select(1) # SELECT 1
DB.select{server_version{}} # SELECT server_version()
DB.select(:id).from(:items) # SELECT id FROM items</pre>
            

            
            <div class="method-source-code" id="select-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">select</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- select-source -->
            
          </div>

          

          
        </div><!-- select-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 3+-+Methods+that+create+datasets -->
  
    
    
    <div id="4+-+Methods+relating+to+adapters-2C+connecting-2C+disconnecting-2C+and+sharding" class="documentation-section">
      
      <h2 class="section-header">
        4 - Methods relating to adapters, connecting, disconnecting, and sharding
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>This methods involve the Database's connection pool.</p>

      </div>
      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="ADAPTERS">ADAPTERS</a></dt>
          
          <dd class="description"><p><a href="../Array.html">Array</a> of supported database adapters</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="pool-attribute-method" class="method-detail">
          <a name="pool"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">pool</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The connection pool for this <a href="Database.html">Database</a> instance.
All <a href="Database.html">Database</a> instances have their own
connection pools.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="adapter_class-method" class="method-detail ">
          <a name="method-c-adapter_class"></a>

          
          <div class="method-heading">
            <span class="method-name">adapter_class</span><span
              class="method-args">(scheme)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The <a href="Database.html">Database</a> subclass for the given adapter
scheme. Raises <a href="AdapterNotFound.html">Sequel::AdapterNotFound</a>
if the adapter could not be loaded.</p>
            

            
            <div class="method-source-code" id="adapter_class-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">adapter_class</span>(<span class="ruby-identifier">scheme</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">scheme</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Class</span>)

  <span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'-'</span>, <span class="ruby-string">'_'</span>).<span class="ruby-identifier">to_sym</span>
  
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> = <span class="ruby-constant">ADAPTER_MAP</span>[<span class="ruby-identifier">scheme</span>]
    <span class="ruby-comment"># attempt to load the adapter file</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">tsk_require</span> <span class="ruby-node">&quot;sequel/adapters/#{scheme}&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">convert_exception_class</span>(<span class="ruby-identifier">e</span>, <span class="ruby-constant">AdapterNotFound</span>)
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-comment"># make sure we actually loaded the adapter</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span> = <span class="ruby-constant">ADAPTER_MAP</span>[<span class="ruby-identifier">scheme</span>]
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotFound</span>, <span class="ruby-node">&quot;Could not load #{scheme} adapter: adapter class not registered in ADAPTER_MAP&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">klass</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- adapter_class-source -->
            
          </div>

          

          
        </div><!-- adapter_class-method -->

      
        <div id="adapter_scheme-method" class="method-detail ">
          <a name="method-c-adapter_scheme"></a>

          
          <div class="method-heading">
            <span class="method-name">adapter_scheme</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the scheme symbol for the <a href="Database.html">Database</a>
class.</p>
            

            
            <div class="method-source-code" id="adapter_scheme-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">adapter_scheme</span>
  <span class="ruby-ivar">@scheme</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- adapter_scheme-source -->
            
          </div>

          

          
        </div><!-- adapter_scheme-method -->

      
        <div id="connect-method" class="method-detail ">
          <a name="method-c-connect"></a>

          
          <div class="method-heading">
            <span class="method-name">connect</span><span
              class="method-args">(conn_string, opts = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Connects to a database.  See <a
href="../Sequel.html#method-c-connect">Sequel.connect</a>.</p>
            

            
            <div class="method-source-code" id="connect-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-identifier">conn_string</span>, <span class="ruby-identifier">opts</span> = {})
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">conn_string</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-regexp">/\A(jdbc|do):/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">conn_string</span>)
      <span class="ruby-identifier">c</span> = <span class="ruby-identifier">adapter_class</span>(<span class="ruby-identifier">match</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_sym</span>)
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:orig_opts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>)
      <span class="ruby-identifier">opts</span> = {<span class="ruby-value">:uri=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">conn_string</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">conn_string</span>)
      <span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span>
      <span class="ruby-identifier">scheme</span> = <span class="ruby-value">:dbi</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\Adbi-/</span>
      <span class="ruby-identifier">c</span> = <span class="ruby-identifier">adapter_class</span>(<span class="ruby-identifier">scheme</span>)
      <span class="ruby-identifier">uri_options</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:uri_to_options</span>, <span class="ruby-identifier">uri</span>)
      <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'&amp;'</span>).<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'='</span>)}.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">uri_options</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">v</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">k</span>.<span class="ruby-identifier">empty?</span>} <span class="ruby-keyword">unless</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">uri_options</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">uri_options</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">v</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)}
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:orig_opts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>)
      <span class="ruby-identifier">opts</span>[<span class="ruby-value">:uri</span>] = <span class="ruby-identifier">conn_string</span>
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">uri_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>)
      <span class="ruby-identifier">opts</span>[<span class="ruby-value">:adapter</span>] = <span class="ruby-identifier">scheme</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">conn_string</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>)
    <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:orig_opts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>)
    <span class="ruby-identifier">c</span> = <span class="ruby-identifier">adapter_class</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:adapter_class</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:adapter</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-string">'adapter'</span>])
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;Sequel::Database.connect takes either a Hash or a String, given: #{conn_string.inspect}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># process opts a bit</span>
  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span>, (<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span>
    <span class="ruby-identifier">k</span> = <span class="ruby-value">:user</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">'username'</span>
    <span class="ruby-identifier">m</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">v</span>
    <span class="ruby-identifier">m</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">db</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">opts</span>)
    <span class="ruby-identifier">db</span>.<span class="ruby-identifier">test_connection</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:test</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:typecast_value_boolean</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-value">:test</span>])
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">db</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">db</span>.<span class="ruby-identifier">disconnect</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">db</span>
      <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">DATABASES</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">db</span>)}
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">db</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- connect-source -->
            
          </div>

          

          
        </div><!-- connect-method -->

      
        <div id="single_threaded-3D-method" class="method-detail ">
          <a name="method-c-single_threaded-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">single_threaded=</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets the default single_threaded mode for new databases. See <a
href="../Sequel.html#method-c-single_threaded-3D">Sequel.single_threaded=</a>.</p>
            

            
            <div class="method-source-code" id="single_threaded-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">single_threaded=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">@@single_threaded</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- single_threaded-3D-source -->
            
          </div>

          

          
        </div><!-- single_threaded-3D-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="adapter_scheme-method" class="method-detail ">
          <a name="method-i-adapter_scheme"></a>

          
          <div class="method-heading">
            <span class="method-name">adapter_scheme</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the scheme symbol for this instance's class, which reflects which
adapter is being used.  In some cases, this can be the same as the
<tt>database_type</tt> (for native adapters), in others (i.e. adapters with
subadapters), it will be different.</p>

<pre>Sequel.connect('jdbc:postgres://...').adapter_scheme # =&gt; :jdbc</pre>
            

            
            <div class="method-source-code" id="adapter_scheme-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">adapter_scheme</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">adapter_scheme</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- adapter_scheme-source -->
            
          </div>

          

          
        </div><!-- adapter_scheme-method -->

      
        <div id="add_servers-method" class="method-detail ">
          <a name="method-i-add_servers"></a>

          
          <div class="method-heading">
            <span class="method-name">add_servers</span><span
              class="method-args">(servers)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dynamically add new servers or modify server options at runtime. Also adds
new servers to the connection pool. Intended for use with master/slave or
shard configurations where it is useful to add new server hosts at runtime.</p>

<p>servers argument should be a hash with server name symbol keys and hash or
proc values.  If a servers key is already in use, it's value is overridden
with the value provided.</p>

<pre>DB.add_servers(:f=&gt;{:host=&gt;&quot;hash_host_f&quot;})</pre>
            

            
            <div class="method-source-code" id="add_servers-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_servers</span>(<span class="ruby-identifier">servers</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:servers</span>]
    <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-identifier">h</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">servers</span>)}
    <span class="ruby-ivar">@pool</span>.<span class="ruby-identifier">add_servers</span>(<span class="ruby-identifier">servers</span>.<span class="ruby-identifier">keys</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_servers-source -->
            
          </div>

          

          
        </div><!-- add_servers-method -->

      
        <div id="connect-method" class="method-detail ">
          <a name="method-i-connect"></a>

          
          <div class="method-heading">
            <span class="method-name">connect</span><span
              class="method-args">(server)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Connects to the database. This method should be overridden by descendants.</p>
            

            
            <div class="method-source-code" id="connect-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">connect</span>(<span class="ruby-identifier">server</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplemented</span>, <span class="ruby-node">&quot;#connect should be overridden by adapters&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- connect-source -->
            
          </div>

          

          
        </div><!-- connect-method -->

      
        <div id="database_type-method" class="method-detail ">
          <a name="method-i-database_type"></a>

          
          <div class="method-heading">
            <span class="method-name">database_type</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The database type for this database object, the same as the adapter scheme
by default.  Should be overridden in adapters (especially shared adapters)
to be the correct type, so that even if two separate <a
href="Database.html">Database</a> objects are using different adapters you
can tell that they are using the same database type.  Even better, you can
tell that two <a href="Database.html">Database</a> objects that are using
the same adapter are connecting to different database types (think <a
href="JDBC.html">JDBC</a> or <a href="DataObjects.html">DataObjects</a>).</p>

<pre>Sequel.connect('jdbc:postgres://...').database_type # =&gt; :postgres</pre>
            

            
            <div class="method-source-code" id="database_type-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">database_type</span>
  <span class="ruby-identifier">adapter_scheme</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- database_type-source -->
            
          </div>

          

          
        </div><!-- database_type-method -->

      
        <div id="disconnect-method" class="method-detail ">
          <a name="method-i-disconnect"></a>

          
          <div class="method-heading">
            <span class="method-name">disconnect</span><span
              class="method-args">(opts = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Disconnects all available connections from the connection pool.  Any
connections currently in use will not be disconnected. Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:servers </p></td>
<td>
<p>Should be a symbol specifing the server to disconnect from, or an array of
symbols to specify multiple servers.</p>
</td></tr></table>

<p>Example:</p>

<pre>DB.disconnect # All servers
DB.disconnect(:servers=&gt;:server1) # Single server
DB.disconnect(:servers=&gt;[:server1, :server2]) # Multiple servers</pre>
            

            
            <div class="method-source-code" id="disconnect-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">disconnect</span>(<span class="ruby-identifier">opts</span> = {})
  <span class="ruby-identifier">pool</span>.<span class="ruby-identifier">disconnect</span>(<span class="ruby-identifier">opts</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- disconnect-source -->
            
          </div>

          

          
        </div><!-- disconnect-method -->

      
        <div id="disconnect_connection-method" class="method-detail ">
          <a name="method-i-disconnect_connection"></a>

          
          <div class="method-heading">
            <span class="method-name">disconnect_connection</span><span
              class="method-args">(conn)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Should only be called by the connection pool code to disconnect a
connection. By default, calls the close method on the connection object,
since most adapters use that, but should be overwritten on other adapters.</p>
            

            
            <div class="method-source-code" id="disconnect_connection-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">disconnect_connection</span>(<span class="ruby-identifier">conn</span>)
  <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- disconnect_connection-source -->
            
          </div>

          

          
        </div><!-- disconnect_connection-method -->

      
        <div id="each_server-method" class="method-detail ">
          <a name="method-i-each_server"></a>

          
          <div class="method-heading">
            <span class="method-name">each_server</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Yield a new <a href="Database.html">Database</a> instance for every server
in the connection pool. Intended for use in sharded environments where
there is a need to make schema modifications (DDL queries) on each shard.</p>

<pre>DB.each_server{|db| db.create_table(:users){primary_key :id; String :name}}</pre>
            

            
            <div class="method-source-code" id="each_server-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each_server</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">servers</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-identifier">server_opts</span>(<span class="ruby-identifier">s</span>), &amp;<span class="ruby-identifier">block</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- each_server-source -->
            
          </div>

          

          
        </div><!-- each_server-method -->

      
        <div id="remove_servers-method" class="method-detail ">
          <a name="method-i-remove_servers"></a>

          
          <div class="method-heading">
            <span class="method-name">remove_servers</span><span
              class="method-args">(*servers)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dynamically remove existing servers from the connection pool. Intended for
use with master/slave or shard configurations where it is useful to remove
existing server hosts at runtime.</p>

<p>servers should be symbols or arrays of symbols.  If a nonexistent server is
specified, it is ignored.  If no servers have been specified for this
database, no changes are made. If you attempt to remove the :default
server, an error will be raised.</p>

<pre>DB.remove_servers(:f1, :f2)</pre>
            

            
            <div class="method-source-code" id="remove_servers-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 202</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_servers</span>(*<span class="ruby-identifier">servers</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:servers</span>]
    <span class="ruby-identifier">servers</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-identifier">h</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">s</span>)}}
    <span class="ruby-ivar">@pool</span>.<span class="ruby-identifier">remove_servers</span>(<span class="ruby-identifier">servers</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- remove_servers-source -->
            
          </div>

          

          
        </div><!-- remove_servers-method -->

      
        <div id="servers-method" class="method-detail ">
          <a name="method-i-servers"></a>

          
          <div class="method-heading">
            <span class="method-name">servers</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>An array of servers/shards for this <a href="Database.html">Database</a>
object.</p>

<pre>DB.servers # Unsharded: =&gt; [:default]
DB.servers # Sharded:   =&gt; [:default, :server1, :server2]</pre>
            

            
            <div class="method-source-code" id="servers-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">servers</span>
  <span class="ruby-identifier">pool</span>.<span class="ruby-identifier">servers</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- servers-source -->
            
          </div>

          

          
        </div><!-- servers-method -->

      
        <div id="single_threaded-3F-method" class="method-detail ">
          <a name="method-i-single_threaded-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">single_threaded?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if the database is using a single-threaded connection pool.</p>
            

            
            <div class="method-source-code" id="single_threaded-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 218</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">single_threaded?</span>
  <span class="ruby-ivar">@single_threaded</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- single_threaded-3F-source -->
            
          </div>

          

          
        </div><!-- single_threaded-3F-method -->

      
        <div id="synchronize-method" class="method-detail ">
          <a name="method-i-synchronize"></a>

          
          <div class="method-heading">
            <span class="method-name">synchronize</span><span
              class="method-args">(server=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Acquires a database connection, yielding it to the passed block. This is
useful if you want to make sure the same connection is used for all
database queries in the block.  It is also useful if you want to gain
direct access to the underlying connection object if you need to do
something <a href="../Sequel.html">Sequel</a> does not natively support.</p>

<p>If a server option is given, acquires a connection for that specific
server, instead of the :default server.</p>

<pre>DB.synchronize do |conn|
  ...
end</pre>
            

            
            <div class="method-source-code" id="synchronize-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">server</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@pool</span>.<span class="ruby-identifier">hold</span>(<span class="ruby-identifier">server</span> <span class="ruby-operator">||</span> <span class="ruby-value">:default</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">conn</span>}
<span class="ruby-keyword">end</span></pre>
            </div><!-- synchronize-source -->
            
          </div>

          

          
        </div><!-- synchronize-method -->

      
        <div id="test_connection-method" class="method-detail ">
          <a name="method-i-test_connection"></a>

          
          <div class="method-heading">
            <span class="method-name">test_connection</span><span
              class="method-args">(server=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Attempts to acquire a database connection.  Returns true if successful.
Will probably raise an <a href="Error.html">Error</a> if unsuccessful.  If
a server argument is given, attempts to acquire a database connection to
the given server/shard.</p>
            

            
            <div class="method-source-code" id="test_connection-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_connection</span>(<span class="ruby-identifier">server</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">server</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>}
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- test_connection-source -->
            
          </div>

          

          
        </div><!-- test_connection-method -->

      
        <div id="valid_connection-3F-method" class="method-detail ">
          <a name="method-i-valid_connection-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">valid_connection?</span><span
              class="method-args">(conn)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Check whether the given connection is currently valid, by running a query
against it.  If the query fails, the connection should probably be removed
from the connection pool.</p>
            

            
            <div class="method-source-code" id="valid_connection-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/connecting.rb, line 257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">valid_connection?</span>(<span class="ruby-identifier">conn</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">valid_connection_sql</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">log_connection_execute</span>(<span class="ruby-identifier">conn</span>, <span class="ruby-identifier">sql</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseError</span>, *<span class="ruby-identifier">database_error_classes</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- valid_connection-3F-source -->
            
          </div>

          

          
        </div><!-- valid_connection-3F-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 4+-+Methods+relating+to+adapters-2C+connecting-2C+disconnecting-2C+and+sharding -->
  
    
    
    <div id="5+-+Methods+that+set+defaults+for+created+datasets" class="documentation-section">
      
      <h2 class="section-header">
        5 - Methods that set defaults for created datasets
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>This methods change the default behavior of this database's datasets.</p>

      </div>
      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="DatasetClass">DatasetClass</a></dt>
          
          <dd class="description"><p>The default class to use for datasets</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="dataset_class-attribute-method" class="method-detail">
          <a name="dataset_class"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">dataset_class</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The class to use for creating datasets.  Should respond to new with the <a
href="Database.html">Database</a> argument as the first argument, and an
optional options hash.</p>
          
          </div>
        </div>
        
        <div id="default_schema-attribute-method" class="method-detail">
          <a name="default_schema"></a>
          
          <a name="default_schema="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">default_schema</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The default schema to use, generally should be nil.  This sets the default
schema used for some schema modification and introspection queries, but
does not effect most dataset code.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="identifier_input_method-method" class="method-detail ">
          <a name="method-c-identifier_input_method"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_input_method</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The method to call on identifiers going into the database</p>
            

            
            <div class="method-source-code" id="identifier_input_method-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">identifier_input_method</span>
  <span class="ruby-identifier">@@identifier_input_method</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_input_method-source -->
            
          </div>

          

          
        </div><!-- identifier_input_method-method -->

      
        <div id="identifier_input_method-3D-method" class="method-detail ">
          <a name="method-c-identifier_input_method-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_input_method=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the method to call on identifiers going into the database See <a
href="../Sequel.html#method-c-identifier_input_method-3D">Sequel.identifier_input_method=</a>.</p>
            

            
            <div class="method-source-code" id="identifier_input_method-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">identifier_input_method=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">@@identifier_input_method</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_input_method-3D-source -->
            
          </div>

          

          
        </div><!-- identifier_input_method-3D-method -->

      
        <div id="identifier_output_method-method" class="method-detail ">
          <a name="method-c-identifier_output_method"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_output_method</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The method to call on identifiers coming from the database</p>
            

            
            <div class="method-source-code" id="identifier_output_method-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">identifier_output_method</span>
  <span class="ruby-identifier">@@identifier_output_method</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_output_method-source -->
            
          </div>

          

          
        </div><!-- identifier_output_method-method -->

      
        <div id="identifier_output_method-3D-method" class="method-detail ">
          <a name="method-c-identifier_output_method-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_output_method=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the method to call on identifiers coming from the database See <a
href="../Sequel.html#method-c-identifier_output_method-3D">Sequel.identifier_output_method=</a>.</p>
            

            
            <div class="method-source-code" id="identifier_output_method-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">identifier_output_method=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">@@identifier_output_method</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_output_method-3D-source -->
            
          </div>

          

          
        </div><!-- identifier_output_method-3D-method -->

      
        <div id="quote_identifiers-3D-method" class="method-detail ">
          <a name="method-c-quote_identifiers-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">quote_identifiers=</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets the default quote_identifiers mode for new databases. See <a
href="../Sequel.html#method-c-quote_identifiers-3D">Sequel.quote_identifiers=</a>.</p>
            

            
            <div class="method-source-code" id="quote_identifiers-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">quote_identifiers=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">@@quote_identifiers</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- quote_identifiers-3D-source -->
            
          </div>

          

          
        </div><!-- quote_identifiers-3D-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="dataset_class-3D-method" class="method-detail ">
          <a name="method-i-dataset_class-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">dataset_class=</span><span
              class="method-args">(c)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>If the database has any dataset modules associated with it, use a subclass
of the given class that includes the modules as the dataset class.</p>
            

            
            <div class="method-source-code" id="dataset_class-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dataset_class=</span>(<span class="ruby-identifier">c</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@dataset_modules</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-ivar">@dataset_modules</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:include</span>, <span class="ruby-identifier">m</span>)}
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@dataset_class</span> = <span class="ruby-identifier">c</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- dataset_class-3D-source -->
            
          </div>

          

          
        </div><!-- dataset_class-3D-method -->

      
        <div id="extend_datasets-method" class="method-detail ">
          <a name="method-i-extend_datasets"></a>

          
          <div class="method-heading">
            <span class="method-name">extend_datasets</span><span
              class="method-args">(mod=nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Equivalent to extending all datasets produced by the database with a
module.  What it actually does is use a subclass of the current <a
href="Database.html#attribute-i-dataset_class">dataset_class</a> as the new
<a href="Database.html#attribute-i-dataset_class">dataset_class</a>, and
include the module in the subclass. Instead of a module, you can provide a
block that is used to create an anonymous module.</p>

<p>This allows you to override any of the dataset methods even if they are
defined directly on the dataset class that this <a
href="Database.html">Database</a> object uses.</p>

<p>Examples:</p>

<pre># Introspec columns for all of DB's datasets
DB.extend_datasets(Sequel::ColumnsIntrospection)

# Trace all SELECT queries by printing the SQL and the full backtrace
DB.extend_datasets do
  def fetch_rows(sql)
    puts sql
    puts caller
    super
  end
end</pre>
            

            
            <div class="method-source-code" id="extend_datasets-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extend_datasets</span>(<span class="ruby-identifier">mod</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;must provide either mod or block, not both&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">mod</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block</span>
  <span class="ruby-identifier">reset_schema_utility_dataset</span>
  <span class="ruby-identifier">mod</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>(&amp;<span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@dataset_modules</span>.<span class="ruby-identifier">empty?</span>
   <span class="ruby-ivar">@dataset_modules</span> = [<span class="ruby-identifier">mod</span>]
   <span class="ruby-ivar">@dataset_class</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@dataset_class</span>)
  <span class="ruby-keyword">else</span>
   <span class="ruby-ivar">@dataset_modules</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">mod</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@dataset_class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:include</span>, <span class="ruby-identifier">mod</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- extend_datasets-source -->
            
          </div>

          

          
        </div><!-- extend_datasets-method -->

      
        <div id="identifier_input_method-method" class="method-detail ">
          <a name="method-i-identifier_input_method"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_input_method</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The method to call on identifiers going into the database</p>
            

            
            <div class="method-source-code" id="identifier_input_method-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">identifier_input_method</span>
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@identifier_input_method</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@identifier_input_method</span> = <span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:identifier_input_method</span>, (<span class="ruby-identifier">@@identifier_input_method</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">identifier_input_method_default</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">@@identifier_input_method</span>))
    <span class="ruby-ivar">@identifier_input_method</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@identifier_input_method</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@identifier_input_method</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_input_method-source -->
            
          </div>

          

          
        </div><!-- identifier_input_method-method -->

      
        <div id="identifier_input_method-3D-method" class="method-detail ">
          <a name="method-i-identifier_input_method-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_input_method=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the method to call on identifiers going into the database:</p>

<pre>DB[:items] # SELECT * FROM items
DB.identifier_input_method = :upcase
DB[:items] # SELECT * FROM ITEMS</pre>
            

            
            <div class="method-source-code" id="identifier_input_method-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">identifier_input_method=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">reset_schema_utility_dataset</span>
  <span class="ruby-ivar">@identifier_input_method</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_input_method-3D-source -->
            
          </div>

          

          
        </div><!-- identifier_input_method-3D-method -->

      
        <div id="identifier_output_method-method" class="method-detail ">
          <a name="method-i-identifier_output_method"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_output_method</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The method to call on identifiers coming from the database</p>
            

            
            <div class="method-source-code" id="identifier_output_method-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">identifier_output_method</span>
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@identifier_output_method</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@identifier_output_method</span> = <span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:identifier_output_method</span>, (<span class="ruby-identifier">@@identifier_output_method</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">identifier_output_method_default</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">@@identifier_output_method</span>))
    <span class="ruby-ivar">@identifier_output_method</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@identifier_output_method</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@identifier_output_method</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_output_method-source -->
            
          </div>

          

          
        </div><!-- identifier_output_method-method -->

      
        <div id="identifier_output_method-3D-method" class="method-detail ">
          <a name="method-i-identifier_output_method-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">identifier_output_method=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the method to call on identifiers coming from the database:</p>

<pre>DB[:items].first # {:id=&gt;1, :name=&gt;'foo'}
DB.identifier_output_method = :upcase
DB[:items].first # {:ID=&gt;1, :NAME=&gt;'foo'}</pre>
            

            
            <div class="method-source-code" id="identifier_output_method-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">identifier_output_method=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">reset_schema_utility_dataset</span>
  <span class="ruby-ivar">@identifier_output_method</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- identifier_output_method-3D-source -->
            
          </div>

          

          
        </div><!-- identifier_output_method-3D-method -->

      
        <div id="quote_identifiers-3D-method" class="method-detail ">
          <a name="method-i-quote_identifiers-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">quote_identifiers=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set whether to quote identifiers (columns and tables) for this database:</p>

<pre>DB[:items] # SELECT * FROM items
DB.quote_identifiers = true
DB[:items] # SELECT * FROM &quot;items&quot;</pre>
            

            
            <div class="method-source-code" id="quote_identifiers-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">quote_identifiers=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">reset_schema_utility_dataset</span>
  <span class="ruby-ivar">@quote_identifiers</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- quote_identifiers-3D-source -->
            
          </div>

          

          
        </div><!-- quote_identifiers-3D-method -->

      
        <div id="quote_identifiers-3F-method" class="method-detail ">
          <a name="method-i-quote_identifiers-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">quote_identifiers?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if the database quotes identifiers.</p>
            

            
            <div class="method-source-code" id="quote_identifiers-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/dataset_defaults.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">quote_identifiers?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@quote_identifiers</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@quote_identifiers</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@quote_identifiers</span> = <span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:quote_identifiers</span>, (<span class="ruby-identifier">@@quote_identifiers</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">quote_identifiers_default</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">@@quote_identifiers</span>))
<span class="ruby-keyword">end</span></pre>
            </div><!-- quote_identifiers-3F-source -->
            
          </div>

          

          
        </div><!-- quote_identifiers-3F-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5+-+Methods+that+set+defaults+for+created+datasets -->
  
    
    
    <div id="6+-+Methods+relating+to+logging" class="documentation-section">
      
      <h2 class="section-header">
        6 - Methods relating to logging
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>This methods affect relating to the logging of executed <a
href="SQL.html">SQL</a>.</p>

      </div>
      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="log_warn_duration-attribute-method" class="method-detail">
          <a name="log_warn_duration"></a>
          
          <a name="log_warn_duration="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">log_warn_duration</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p><a href="../Numeric.html">Numeric</a> specifying the duration beyond which
queries are logged at warn level instead of info level.</p>
          
          </div>
        </div>
        
        <div id="loggers-attribute-method" class="method-detail">
          <a name="loggers"></a>
          
          <a name="loggers="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">loggers</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p><a href="../Array.html">Array</a> of <a href="SQL.html">SQL</a> loggers to
use for this database.</p>
          
          </div>
        </div>
        
        <div id="sql_log_level-attribute-method" class="method-detail">
          <a name="sql_log_level"></a>
          
          <a name="sql_log_level="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">sql_log_level</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Log level at which to log <a href="SQL.html">SQL</a> queries.  This is
actually the method sent to the logger, so it should be the method name
symbol. The default is :info, it can be set to :debug to log at DEBUG
level.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="log_exception-method" class="method-detail ">
          <a name="method-i-log_exception"></a>

          
          <div class="method-heading">
            <span class="method-name">log_exception</span><span
              class="method-args">(exception, message)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log a message at error level, with information about the exception.</p>
            

            
            <div class="method-source-code" id="log_exception-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/logging.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">log_exception</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">message</span>)
  <span class="ruby-identifier">log_each</span>(<span class="ruby-value">:error</span>, <span class="ruby-node">&quot;#{exception.class}: #{exception.message.strip if exception.message}: #{message}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- log_exception-source -->
            
          </div>

          

          
        </div><!-- log_exception-method -->

      
        <div id="log_info-method" class="method-detail ">
          <a name="method-i-log_info"></a>

          
          <div class="method-heading">
            <span class="method-name">log_info</span><span
              class="method-args">(message, args=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log a message at level info to all loggers.</p>
            

            
            <div class="method-source-code" id="log_info-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/logging.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">log_info</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">args</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">log_each</span>(<span class="ruby-value">:info</span>, <span class="ruby-identifier">args</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{message}; #{args.inspect}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">message</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- log_info-source -->
            
          </div>

          

          
        </div><!-- log_info-method -->

      
        <div id="log_yield-method" class="method-detail ">
          <a name="method-i-log_yield"></a>

          
          <div class="method-heading">
            <span class="method-name">log_yield</span><span
              class="method-args">(sql, args=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Yield to the block, logging any errors at error level to all loggers, and
all other queries with the duration at warn or info level.</p>
            

            
            <div class="method-source-code" id="log_yield-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/logging.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">log_yield</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">yield</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@loggers</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">&quot;#{sql}; #{args.inspect}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>
  <span class="ruby-identifier">start</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">log_exception</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">sql</span>)
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">log_duration</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">start</span>, <span class="ruby-identifier">sql</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- log_yield-source -->
            
          </div>

          

          
        </div><!-- log_yield-method -->

      
        <div id="logger-3D-method" class="method-detail ">
          <a name="method-i-logger-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">logger=</span><span
              class="method-args">(logger)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Remove any existing loggers and just use the given logger:</p>

<pre>DB.logger = Logger.new($stdout)</pre>
            

            
            <div class="method-source-code" id="logger-3D-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/logging.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logger=</span>(<span class="ruby-identifier">logger</span>)
  <span class="ruby-ivar">@loggers</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">logger</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- logger-3D-source -->
            
          </div>

          

          
        </div><!-- logger-3D-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 6+-+Methods+relating+to+logging -->
  
    
    
    <div id="7+-+Miscellaneous+methods" class="documentation-section">
      
      <h2 class="section-header">
        7 - Miscellaneous methods
        <a href="#top">&uarr; top</a>
      </h2>
      

      
      <div class="description">
        
<p>These methods don't fit neatly into another category.</p>

      </div>
      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="EXTENSIONS">EXTENSIONS</a></dt>
          
          <dd class="description"><p><a href="../Hash.html">Hash</a> of extension name symbols to callable
objects to load the extension into the <a href="Database.html">Database</a>
object (usually by extending it with a module defined in the extension).</p></dd>
          
        
          <dt><a name="LEADING_ZERO_RE">LEADING_ZERO_RE</a></dt>
          
          <dd class="description"><p>Used for checking/removing leading zeroes from strings so they don't get
interpreted as octal.</p></dd>
          
        
          <dt><a name="LEADING_ZERO_REP">LEADING_ZERO_REP</a></dt>
          
          <dd class="description"><p>Replacement string when replacing leading zeroes.</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="opts-attribute-method" class="method-detail">
          <a name="opts"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">opts</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The options hash for this database</p>
          
          </div>
        </div>
        
        <div id="timezone-attribute-method" class="method-detail">
          <a name="timezone"></a>
          
          <a name="timezone="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">timezone</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description">
          
          <p>Set the timezone to use for this database, overridding
<tt>Sequel.database_timezone</tt>.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(opts = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Constructs a new instance of a database connection with the specified
options hash.</p>

<p>Accepts the following options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:<a href="Database.html#attribute-i-default_schema">default_schema</a> </p></td>
<td>
<p>The default schema to use, see <a
href="Database.html#attribute-i-default_schema">default_schema</a>.</p>
</td></tr><tr><td class="rdoc-term"><p>:<a href="Database.html#method-c-identifier_input_method">identifier_input_method</a> </p></td>
<td>
<p>A string method symbol to call on identifiers going into the database</p>
</td></tr><tr><td class="rdoc-term"><p>:<a href="Database.html#method-c-identifier_output_method">identifier_output_method</a> </p></td>
<td>
<p>A string method symbol to call on identifiers coming from the database</p>
</td></tr><tr><td class="rdoc-term"><p>:logger </p></td>
<td>
<p>A specific logger to use</p>
</td></tr><tr><td class="rdoc-term"><p>:loggers </p></td>
<td>
<p>An array of loggers to use</p>
</td></tr><tr><td class="rdoc-term"><p>:quote_identifiers </p></td>
<td>
<p>Whether to quote identifiers</p>
</td></tr><tr><td class="rdoc-term"><p>:servers </p></td>
<td>
<p>A hash specifying a server/shard specific options, keyed by shard symbol</p>
</td></tr><tr><td class="rdoc-term"><p>:single_threaded </p></td>
<td>
<p>Whether to use a single-threaded connection pool</p>
</td></tr><tr><td class="rdoc-term"><p>:<a href="Database.html#attribute-i-sql_log_level">sql_log_level</a> </p></td>
<td>
<p>Method to use to log <a href="SQL.html">SQL</a> to a logger, :info by
default.</p>
</td></tr></table>

<p>All options given are also passed to the connection pool.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">opts</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@opts</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">opts</span>
  <span class="ruby-ivar">@opts</span> = <span class="ruby-identifier">connection_pool_default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-ivar">@opts</span>)
  <span class="ruby-ivar">@loggers</span> = <span class="ruby-constant">Array</span>(<span class="ruby-ivar">@opts</span>[<span class="ruby-value">:logger</span>]) <span class="ruby-operator">+</span> <span class="ruby-constant">Array</span>(<span class="ruby-ivar">@opts</span>[<span class="ruby-value">:loggers</span>])
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">log_warn_duration</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:log_warn_duration</span>]
  <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">server</span><span class="ruby-operator">|</span> <span class="ruby-identifier">connect</span>(<span class="ruby-identifier">server</span>)}
  <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:servers</span>] = {} <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:servers</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:adapter_class</span>] = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>
  
  <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:single_threaded</span>] = <span class="ruby-ivar">@single_threaded</span> = <span class="ruby-identifier">typecast_value_boolean</span>(<span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:single_threaded</span>, <span class="ruby-identifier">@@single_threaded</span>))
  <span class="ruby-ivar">@schemas</span> = {}
  <span class="ruby-ivar">@default_schema</span> = <span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:default_schema</span>, <span class="ruby-identifier">default_schema_default</span>)
  <span class="ruby-ivar">@prepared_statements</span> = {}
  <span class="ruby-ivar">@transactions</span> = {}
  <span class="ruby-ivar">@identifier_input_method</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@identifier_output_method</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@quote_identifiers</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@timezone</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@dataset_class</span> = <span class="ruby-identifier">dataset_class_default</span>
  <span class="ruby-ivar">@cache_schema</span> = <span class="ruby-identifier">typecast_value_boolean</span>(<span class="ruby-ivar">@opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:cache_schema</span>, <span class="ruby-keyword">true</span>))
  <span class="ruby-ivar">@dataset_modules</span> = []
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">sql_log_level</span> = <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:sql_log_level</span>] <span class="ruby-operator">?</span> <span class="ruby-ivar">@opts</span>[<span class="ruby-value">:sql_log_level</span>].<span class="ruby-identifier">to_sym</span> <span class="ruby-operator">:</span> <span class="ruby-value">:info</span>
  <span class="ruby-ivar">@pool</span> = <span class="ruby-constant">ConnectionPool</span>.<span class="ruby-identifier">get_pool</span>(<span class="ruby-keyword">self</span>, <span class="ruby-ivar">@opts</span>)

  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">DATABASES</span>.<span class="ruby-identifier">push</span>(<span class="ruby-keyword">self</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
        <div id="register_extension-method" class="method-detail ">
          <a name="method-c-register_extension"></a>

          
          <div class="method-heading">
            <span class="method-name">register_extension</span><span
              class="method-args">(ext, mod=nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Register an extension callback for <a href="Database.html">Database</a>
objects.  ext should be the extension name symbol, and mod should either be
a Module that the database is extended with, or a callable object called
with the database object.  If mod is not provided, a block can be provided
and is treated as the mod object.</p>
            

            
            <div class="method-source-code" id="register_extension-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">register_extension</span>(<span class="ruby-identifier">ext</span>, <span class="ruby-identifier">mod</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">mod</span>
    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;cannot provide both mod and block to Database.register_extension&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Module</span>)
      <span class="ruby-identifier">block</span> = <span class="ruby-identifier">proc</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">db</span><span class="ruby-operator">|</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-identifier">mod</span>)}
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">block</span> = <span class="ruby-identifier">mod</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-constant">EXTENSIONS</span>[<span class="ruby-identifier">ext</span>] = <span class="ruby-identifier">block</span>}
<span class="ruby-keyword">end</span></pre>
            </div><!-- register_extension-source -->
            
          </div>

          

          
        </div><!-- register_extension-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="after_commit-method" class="method-detail ">
          <a name="method-i-after_commit"></a>

          
          <div class="method-heading">
            <span class="method-name">after_commit</span><span
              class="method-args">(opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>If a transaction is not currently in process, yield to the block
immediately. Otherwise, add the block to the list of blocks to call after
the currently in progress transaction commits (and only if it commits).
Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:server </p></td>
<td>
<p>The server/shard to use.</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="after_commit-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after_commit</span>(<span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;must provide block to after_commit&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:server</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-identifier">_trans</span>(<span class="ruby-identifier">conn</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;cannot call after_commit in a prepared transaction&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span>[<span class="ruby-value">:prepare</span>]
      (<span class="ruby-identifier">h</span>[<span class="ruby-value">:after_commit</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">yield</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- after_commit-source -->
            
          </div>

          

          
        </div><!-- after_commit-method -->

      
        <div id="after_rollback-method" class="method-detail ">
          <a name="method-i-after_rollback"></a>

          
          <div class="method-heading">
            <span class="method-name">after_rollback</span><span
              class="method-args">(opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>If a transaction is not currently in progress, ignore the block. Otherwise,
add the block to the list of the blocks to call after the currently in
progress transaction rolls back (and only if it rolls back). Options:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>:server </p></td>
<td>
<p>The server/shard to use.</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="after_rollback-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after_rollback</span>(<span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;must provide block to after_rollback&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block</span>
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:server</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-identifier">_trans</span>(<span class="ruby-identifier">conn</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;cannot call after_rollback in a prepared transaction&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">h</span>[<span class="ruby-value">:prepare</span>]
      (<span class="ruby-identifier">h</span>[<span class="ruby-value">:after_rollback</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- after_rollback-source -->
            
          </div>

          

          
        </div><!-- after_rollback-method -->

      
        <div id="cast_type_literal-method" class="method-detail ">
          <a name="method-i-cast_type_literal"></a>

          
          <div class="method-heading">
            <span class="method-name">cast_type_literal</span><span
              class="method-args">(type)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Cast the given type to a literal type</p>

<pre>DB.cast_type_literal(Float) # double precision
DB.cast_type_literal(:foo) # foo</pre>
            

            
            <div class="method-source-code" id="cast_type_literal-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cast_type_literal</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">type_literal</span>(<span class="ruby-value">:type=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">type</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- cast_type_literal-source -->
            
          </div>

          

          
        </div><!-- cast_type_literal-method -->

      
        <div id="extension-method" class="method-detail ">
          <a name="method-i-extension"></a>

          
          <div class="method-heading">
            <span class="method-name">extension</span><span
              class="method-args">(*exts)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Load an extension into the receiver.  In addition to requiring the
extension file, this also modifies the database to work with the extension
(usually extending it with a module defined in the extension file).  If no
related extension file exists or the extension does not have specific
support for <a href="Database.html">Database</a> objects, an <a
href="Error.html">Error</a> will be raised. Returns self.</p>
            

            
            <div class="method-source-code" id="extension-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extension</span>(*<span class="ruby-identifier">exts</span>)
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extension</span>(*<span class="ruby-identifier">exts</span>)
  <span class="ruby-identifier">exts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ext</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-constant">EXTENSIONS</span>[<span class="ruby-identifier">ext</span>]}
      <span class="ruby-identifier">pr</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;Extension #{ext} does not have specific support handling individual databases&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- extension-source -->
            
          </div>

          

          
        </div><!-- extension-method -->

      
        <div id="from_application_timestamp-method" class="method-detail ">
          <a name="method-i-from_application_timestamp"></a>

          
          <div class="method-heading">
            <span class="method-name">from_application_timestamp</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the given timestamp from the application's timezone, to the
databases's timezone or the default database timezone if the database does
not have a timezone.</p>
            

            
            <div class="method-source-code" id="from_application_timestamp-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 149</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">from_application_timestamp</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">convert_output_timestamp</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">timezone</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- from_application_timestamp-source -->
            
          </div>

          

          
        </div><!-- from_application_timestamp-method -->

      
        <div id="global_index_namespace-3F-method" class="method-detail ">
          <a name="method-i-global_index_namespace-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">global_index_namespace?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database uses a global namespace for the index.  If false, the
indexes are going to be namespaced per table.</p>
            

            
            <div class="method-source-code" id="global_index_namespace-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">global_index_namespace?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- global_index_namespace-3F-source -->
            
          </div>

          

          
        </div><!-- global_index_namespace-3F-method -->

      
        <div id="in_transaction-3F-method" class="method-detail ">
          <a name="method-i-in_transaction-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">in_transaction?</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return true if already in a transaction given the options, false otherwise.
Respects the :server option for selecting a shard.</p>
            

            
            <div class="method-source-code" id="in_transaction-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">in_transaction?</span>(<span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:server</span>]){<span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">_trans</span>(<span class="ruby-identifier">conn</span>)}
<span class="ruby-keyword">end</span></pre>
            </div><!-- in_transaction-3F-source -->
            
          </div>

          

          
        </div><!-- in_transaction-3F-method -->

      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          <div class="method-heading">
            <span class="method-name">inspect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a string representation of the database object including the class
name and connection URI and options used when connecting (if any).</p>
            

            
            <div class="method-source-code" id="inspect-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-identifier">a</span> = []
  <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">oo</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:orig_opts</span>]) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">oo</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">oo</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-node">&quot;#&lt;#{self.class}: #{a.join(' ')}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->

      
        <div id="literal-method" class="method-detail ">
          <a name="method-i-literal"></a>

          
          <div class="method-heading">
            <span class="method-name">literal</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Proxy the literal call to the dataset.</p>

<pre>DB.literal(1) # 1
DB.literal(:a) # a
DB.literal('a') # 'a'</pre>
            

            
            <div class="method-source-code" id="literal-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">literal</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">schema_utility_dataset</span>.<span class="ruby-identifier">literal</span>(<span class="ruby-identifier">v</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- literal-source -->
            
          </div>

          

          
        </div><!-- literal-method -->

      
        <div id="prepared_statement-method" class="method-detail ">
          <a name="method-i-prepared_statement"></a>

          
          <div class="method-heading">
            <span class="method-name">prepared_statement</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Synchronize access to the prepared statements cache.</p>
            

            
            <div class="method-source-code" id="prepared_statement-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prepared_statement</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-identifier">prepared_statements</span>[<span class="ruby-identifier">name</span>]}
<span class="ruby-keyword">end</span></pre>
            </div><!-- prepared_statement-source -->
            
          </div>

          

          
        </div><!-- prepared_statement-method -->

      
        <div id="serial_primary_key_options-method" class="method-detail ">
          <a name="method-i-serial_primary_key_options"></a>

          
          <div class="method-heading">
            <span class="method-name">serial_primary_key_options</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Default serial primary key options, used by the table creation code.</p>
            

            
            <div class="method-source-code" id="serial_primary_key_options-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">serial_primary_key_options</span>
  {<span class="ruby-value">:primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Integer</span>, <span class="ruby-value">:auto_increment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}
<span class="ruby-keyword">end</span></pre>
            </div><!-- serial_primary_key_options-source -->
            
          </div>

          

          
        </div><!-- serial_primary_key_options-method -->

      
        <div id="set_prepared_statement-method" class="method-detail ">
          <a name="method-i-set_prepared_statement"></a>

          
          <div class="method-heading">
            <span class="method-name">set_prepared_statement</span><span
              class="method-args">(name, ps)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Cache the prepared statement object at the given name.</p>
            

            
            <div class="method-source-code" id="set_prepared_statement-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_prepared_statement</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ps</span>)
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">synchronize</span>{<span class="ruby-identifier">prepared_statements</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">ps</span>}
<span class="ruby-keyword">end</span></pre>
            </div><!-- set_prepared_statement-source -->
            
          </div>

          

          
        </div><!-- set_prepared_statement-method -->

      
        <div id="supports_create_table_if_not_exists-3F-method" class="method-detail ">
          <a name="method-i-supports_create_table_if_not_exists-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_create_table_if_not_exists?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database supports CREATE TABLE IF NOT EXISTS syntax, false by
default.</p>
            

            
            <div class="method-source-code" id="supports_create_table_if_not_exists-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_create_table_if_not_exists?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_create_table_if_not_exists-3F-source -->
            
          </div>

          

          
        </div><!-- supports_create_table_if_not_exists-3F-method -->

      
        <div id="supports_drop_table_if_exists-3F-method" class="method-detail ">
          <a name="method-i-supports_drop_table_if_exists-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_drop_table_if_exists?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database supports DROP TABLE IF EXISTS syntax, default is the
same as <a
href="Database.html#method-i-supports_create_table_if_not_exists-3F">supports_create_table_if_not_exists?</a>.</p>
            

            
            <div class="method-source-code" id="supports_drop_table_if_exists-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_drop_table_if_exists?</span>
  <span class="ruby-identifier">supports_create_table_if_not_exists?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_drop_table_if_exists-3F-source -->
            
          </div>

          

          
        </div><!-- supports_drop_table_if_exists-3F-method -->

      
        <div id="supports_prepared_transactions-3F-method" class="method-detail ">
          <a name="method-i-supports_prepared_transactions-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_prepared_transactions?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database and adapter support prepared transactions (two-phase
commit), false by default.</p>
            

            
            <div class="method-source-code" id="supports_prepared_transactions-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_prepared_transactions?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_prepared_transactions-3F-source -->
            
          </div>

          

          
        </div><!-- supports_prepared_transactions-3F-method -->

      
        <div id="supports_savepoints-3F-method" class="method-detail ">
          <a name="method-i-supports_savepoints-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_savepoints?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database and adapter support savepoints, false by default.</p>
            

            
            <div class="method-source-code" id="supports_savepoints-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_savepoints?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_savepoints-3F-source -->
            
          </div>

          

          
        </div><!-- supports_savepoints-3F-method -->

      
        <div id="supports_savepoints_in_prepared_transactions-3F-method" class="method-detail ">
          <a name="method-i-supports_savepoints_in_prepared_transactions-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_savepoints_in_prepared_transactions?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database and adapter support savepoints inside prepared
transactions (two-phase commit), default is false.</p>
            

            
            <div class="method-source-code" id="supports_savepoints_in_prepared_transactions-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_savepoints_in_prepared_transactions?</span>
  <span class="ruby-identifier">supports_prepared_transactions?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">supports_savepoints?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_savepoints_in_prepared_transactions-3F-source -->
            
          </div>

          

          
        </div><!-- supports_savepoints_in_prepared_transactions-3F-method -->

      
        <div id="supports_transaction_isolation_levels-3F-method" class="method-detail ">
          <a name="method-i-supports_transaction_isolation_levels-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_transaction_isolation_levels?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether the database and adapter support transaction isolation levels,
false by default.</p>
            

            
            <div class="method-source-code" id="supports_transaction_isolation_levels-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_transaction_isolation_levels?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_transaction_isolation_levels-3F-source -->
            
          </div>

          

          
        </div><!-- supports_transaction_isolation_levels-3F-method -->

      
        <div id="supports_transactional_ddl-3F-method" class="method-detail ">
          <a name="method-i-supports_transactional_ddl-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">supports_transactional_ddl?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Whether DDL statements work correctly in transactions, false by default.</p>
            

            
            <div class="method-source-code" id="supports_transactional_ddl-3F-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_transactional_ddl?</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- supports_transactional_ddl-3F-source -->
            
          </div>

          

          
        </div><!-- supports_transactional_ddl-3F-method -->

      
        <div id="timezone-method" class="method-detail ">
          <a name="method-i-timezone"></a>

          
          <div class="method-heading">
            <span class="method-name">timezone</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The timezone to use for this database, defaulting to
<tt>Sequel.database_timezone</tt>.</p>
            

            
            <div class="method-source-code" id="timezone-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">timezone</span>
  <span class="ruby-ivar">@timezone</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">database_timezone</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- timezone-source -->
            
          </div>

          

          
        </div><!-- timezone-method -->

      
        <div id="to_application_timestamp-method" class="method-detail ">
          <a name="method-i-to_application_timestamp"></a>

          
          <div class="method-heading">
            <span class="method-name">to_application_timestamp</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the given timestamp to the application's timezone, from the
databases's timezone or the default database timezone if the database does
not have a timezone.</p>
            

            
            <div class="method-source-code" id="to_application_timestamp-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_application_timestamp</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">convert_timestamp</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">timezone</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_application_timestamp-source -->
            
          </div>

          

          
        </div><!-- to_application_timestamp-method -->

      
        <div id="typecast_value-method" class="method-detail ">
          <a name="method-i-typecast_value"></a>

          
          <div class="method-heading">
            <span class="method-name">typecast_value</span><span
              class="method-args">(column_type, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Typecast the value to the given column_type. Calls
typecast_value_#{column_type} if the method exists, otherwise returns the
value. This method should raise <a
href="InvalidValue.html">Sequel::InvalidValue</a> if assigned value is
invalid.</p>
            

            
            <div class="method-source-code" id="typecast_value-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">typecast_value</span>(<span class="ruby-identifier">column_type</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">meth</span> = <span class="ruby-node">&quot;typecast_value_#{column_type}&quot;</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-keyword">true</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">value</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">TypeError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">convert_exception_class</span>(<span class="ruby-identifier">e</span>, <span class="ruby-constant">InvalidValue</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- typecast_value-source -->
            
          </div>

          

          
        </div><!-- typecast_value-method -->

      
        <div id="uri-method" class="method-detail ">
          <a name="method-i-uri"></a>

          
          <div class="method-heading">
            <span class="method-name">uri</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the URI use to connect to the database.  If a URI was not used when
connecting, returns nil.</p>
            

            
            <div class="method-source-code" id="uri-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">opts</span>[<span class="ruby-value">:uri</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- uri-source -->
            
          </div>

          

          
        </div><!-- uri-method -->

      
        <div id="url-method" class="method-detail ">
          <a name="method-i-url"></a>

          
          <div class="method-heading">
            <span class="method-name">url</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Explicit alias of uri for easier subclassing.</p>
            

            
            <div class="method-source-code" id="url-source">
<pre>
<span class="ruby-comment"># File lib/sequel/database/misc.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url</span>
  <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- url-source -->
            
          </div>

          

          
        </div><!-- url-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 7+-+Miscellaneous+methods -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

